import{a as r,o as c,b as i,w as a,g as e,e as l,B as s}from"./runtime-core.esm-bundler.b1f35d24.js";var n={};const d={class:"markdown-body"},p=e("div",{class:"two-up"},[e("div",{class:"left"},[e("blockquote",null,[e("p",null,"Utilities are the various helper endpoints located within the API.")])]),e("div",{class:"right"},[e("p",null,[e("div",{class:"table-of-contents"},[e("ul",null,[e("li",null,[e("a",{href:"#generate-a-hash"},"Generate a Hash")]),e("li",null,[e("a",{href:"#verify-a-hash"},"Verify a Hash")]),e("li",null,[e("a",{href:"#manually-sort-items-in-collection"},"Manually Sort Items in Collection")]),e("li",null,[e("a",{href:"#import-data-from-file"},"Import Data from File")]),e("li",null,[e("a",{href:"#export-data-to-a-file"},"Export Data to a File")]),e("li",null,[e("a",{href:"#clear-the-internal-cache"},"Clear the Internal Cache")])])])])])],-1),u=e("hr",null,null,-1),_=e("h2",{id:"generate-a-hash"},[s("Generate a Hash "),e("a",{class:"header-anchor",href:"#generate-a-hash"},"#")],-1),f=e("p",null,"Generate a hash for a given string.",-1),m=e("div",{class:"two-up"},[e("div",{class:"left"},[e("h3",{id:"request-body"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body"},"#")]),e("div",{class:"definitions"},[e("p",null,[e("code",{class:""},"string"),s(),e("strong",null,"Required"),e("br"),s(" String to hash.")])]),e("h3",{id:"returns"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns"},"#")]),e("p",null,"Hashed string.")]),e("div",{class:"right"},[e("h3",{id:"rest-api"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api"},"#")]),e("pre",null,[e("code",{class:""},`POST /utils/hash/generate
`)]),e("h5",{id:"example"},[s("Example "),e("a",{class:"header-anchor",href:"#example"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// POST /utils/hash/generate"),s(`

{
	`),e("span",{class:"hljs-attr"},'"string"'),s(": "),e("span",{class:"hljs-string"},'"Hello World!"'),s(`
}
`)])]),e("h3",{id:"graphql"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	utils_hash_generate(string:`),e("span",{class:"hljs-type"}," String"),s("!):"),e("span",{class:"hljs-type"}," String"),s(`
}
`)])]),e("h5",{id:"example-2"},[s("Example "),e("a",{class:"header-anchor",href:"#example-2"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	utils_hash_generate(string: `),e("span",{class:"hljs-string"},'"Hello World!"'),s(`)
}
`)])])])],-1),g=e("hr",null,null,-1),y=e("h2",{id:"verify-a-hash"},[s("Verify a Hash "),e("a",{class:"header-anchor",href:"#verify-a-hash"},"#")],-1),q=e("p",null,"Verify a string with a hash.",-1),j=e("div",{class:"two-up"},[e("div",{class:"left"},[e("h3",{id:"request-body-2"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-2"},"#")]),e("div",{class:"definitions"},[e("p",null,[e("code",{class:""},"string"),s(),e("strong",null,"Required"),e("br"),s(" Source string.")]),e("p",null,[e("code",{class:""},"hash"),s(),e("strong",null,"Required"),e("br"),s(" Hash you want to verify against.")])]),e("h3",{id:"returns-2"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-2"},"#")]),e("p",null,"Boolean.")]),e("div",{class:"right"},[e("h3",{id:"rest-api-2"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-2"},"#")]),e("pre",null,[e("code",{class:""},`POST /utils/hash/verify
`)]),e("h5",{id:"example-3"},[s("Example "),e("a",{class:"header-anchor",href:"#example-3"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// POST /utils/hash/verify"),s(`

{
	`),e("span",{class:"hljs-attr"},'"string"'),s(": "),e("span",{class:"hljs-string"},'"Hello World!"'),s(`,
	`),e("span",{class:"hljs-attr"},'"hash"'),s(": "),e("span",{class:"hljs-string"},'"$arg...fEfM"'),s(`
}
`)])]),e("h3",{id:"graphql-2"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-2"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	utils_hash_verify(hash:`),e("span",{class:"hljs-type"}," String"),s("!, string:"),e("span",{class:"hljs-type"}," String"),s("!):"),e("span",{class:"hljs-type"}," Boolean"),s(`
}
`)])])])],-1),b=e("hr",null,null,-1),v=e("h2",{id:"manually-sort-items-in-collection"},[s("Manually Sort Items in Collection "),e("a",{class:"header-anchor",href:"#manually-sort-items-in-collection"},"#")],-1),x=e("p",null,"If a collection has a sort field, this util can be used to move items in that manual order.",-1),A=e("div",{class:"two-up"},[e("div",{class:"left"},[e("h3",{id:"request-body-3"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-3"},"#")]),e("div",{class:"definitions"},[e("p",null,[e("code",{class:""},"item"),s(),e("strong",null,"Required"),e("br"),s(" Primary key of the item you\u2019re moving in the collection.")]),e("p",null,[e("code",{class:""},"to"),s(),e("strong",null,"Required"),e("br"),s(" Primary key of the item you\u2019re moving the source item too.")])]),e("h3",{id:"returns-3"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-3"},"#")]),e("p",null,"Empty body.")]),e("div",{class:"right"},[e("h3",{id:"rest-api-3"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-3"},"#")]),e("pre",null,[e("code",{class:""},`POST /utils/sort/:collection
`)]),e("h5",{id:"example-4"},[s("Example "),e("a",{class:"header-anchor",href:"#example-4"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// POST /utils/sort/articles"),s(`

{
	`),e("span",{class:"hljs-attr"},'"item"'),s(": "),e("span",{class:"hljs-number"},"16"),s(`,
	`),e("span",{class:"hljs-attr"},'"to"'),s(": "),e("span",{class:"hljs-number"},"51"),s(`
}
`)])]),e("h3",{id:"graphql-3"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-3"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	utils_sort(collection:`),e("span",{class:"hljs-type"}," String"),s("!, item:"),e("span",{class:"hljs-literal"}," ID"),s("!, to:"),e("span",{class:"hljs-literal"}," ID"),s("!):"),e("span",{class:"hljs-type"}," Boolean"),s(`
}
`)])]),e("h5",{id:"example-5"},[s("Example "),e("a",{class:"header-anchor",href:"#example-5"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	utils_sort(collection: `),e("span",{class:"hljs-string"},'"articles"'),s(", item: "),e("span",{class:"hljs-number"},"16"),s(", to: "),e("span",{class:"hljs-number"},"51"),s(`)
}
`)])])])],-1),S=e("hr",null,null,-1),E=e("h2",{id:"import-data-from-file"},[s("Import Data from File "),e("a",{class:"header-anchor",href:"#import-data-from-file"},"#")],-1),R=s("Import multiple records from a JSON or CSV file into a collection. Relies on a "),T=e("code",{class:""},"multipart/form-data",-1),w=s(" encoded request, just like regular file uploads. Check "),P=s("Upload a File"),C=s(" for more information."),O=s("The import endpoint expects the file structure to match "),k=s("the export query parameter"),F=s(". For JSON, this is an array of objects, where every object is an item. For CSV, the first line has to be the columns header."),I={class:"two-up"},B={class:"left"},D=e("h3",{id:"request-body-4"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-4"},"#")],-1),M=s("Send the file in a "),G=e("code",{class:""},"multipart/form-data",-1),H=s(" request. See "),L=s("Upload a File"),U=s(" for more information."),V=e("h3",{id:"returns-4"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-4"},"#")],-1),N=e("p",null,"Empty body.",-1),Q=e("div",{class:"right"},[e("h3",{id:"rest-api-4"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-4"},"#")]),e("pre",null,[e("code",{class:""},`POST /utils/import/:collection
`)]),e("h5",{id:"example-6"},[s("Example "),e("a",{class:"header-anchor",href:"#example-6"},"#")]),e("pre",null,[e("code",{class:""},`POST /utils/import/articles

Content-Type: multipart/form-data; charset=utf-8; boundary=__X_BOUNDARY__
Content-Length: 3442422

--__X_BOUNDARY__
Content-Disposition: form-data; name="file"; filename="articles.csv"
Content-Type: text/csv

"id","title","another","created_by"
1,"My First Articled","abc","506385A2-E444-4AE2-A860-F00957A62C8A"
2,"My Second Article","abc","506385A2-E444-4AE2-A860-F00957A62C8A"
3,"My Updated Third Article","abc","506385A2-E444-4AE2-A860-F00957A62C8A"
4,"My Fourth Article","abc","506385A2-E444-4AE2-A860-F00957A62C8A"
5,"My Fifth Article","abc","506385A2-E444-4AE2-A860-F00957A62C8A"
...
`)]),e("h3",{id:"graphql-4"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-4"},"#")]),e("p",null,"n/a")],-1),W=e("hr",null,null,-1),J=e("h2",{id:"export-data-to-a-file"},[s("Export Data to a File "),e("a",{class:"header-anchor",href:"#export-data-to-a-file"},"#")],-1),X=e("p",null,"Export a larger data set to a file in the File Library",-1),Y={class:"two-up"},$={class:"left"},z=e("h3",{id:"query-parameters"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters"},"#")],-1),K=e("p",null,"Doesn\u2019t use any query parameters.",-1),Z=e("h3",{id:"request-body-5"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-5"},"#")],-1),ee={class:"definitions"},se=e("p",null,[e("code",{class:""},"format"),s(),e("strong",null,"Required"),e("br"),s(" What file format to save the export to. One of "),e("code",{class:""},"csv"),s(", "),e("code",{class:""},"xml"),s(", "),e("code",{class:""},"json"),s(".")],-1),ae=e("code",{class:""},"query",-1),te=s(),le=e("strong",null,"Required",-1),re=e("br",null,null,-1),ne=s(" The query object to use for the export. Supports the "),oe=s("global query parameters"),he=s("."),ce=e("p",null,[e("code",{class:""},"file"),s(),e("strong",null,"File Object"),e("br"),s(" Partial file object to tweak where / how the export file is saved.")],-1),ie=e("h3",{id:"returns-5"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-5"},"#")],-1),de=e("p",null,"Empty body",-1),pe=e("div",{class:"right"},[e("h3",{id:"rest-api-5"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-5"},"#")]),e("pre",null,[e("code",{class:""},`POST /utils/export/:collection
`)]),e("h5",{id:"example-7"},[s("Example "),e("a",{class:"header-anchor",href:"#example-7"},"#")]),e("pre",null,[e("code",{class:""},`POST /utils/export/articles
`)]),e("pre",null,[e("code",{class:"language-json"},[s(`{
	`),e("span",{class:"hljs-attr"},'"query"'),s(`: {
		`),e("span",{class:"hljs-attr"},'"filter"'),s(`: {
			`),e("span",{class:"hljs-attr"},'"status"'),s(`: {
				`),e("span",{class:"hljs-attr"},'"_eq"'),s(": "),e("span",{class:"hljs-string"},'"published"'),s(`
			}
		}
	},
	`),e("span",{class:"hljs-attr"},'"file"'),s(`: {
		`),e("span",{class:"hljs-attr"},'"folder"'),s(": "),e("span",{class:"hljs-string"},'"34e95c19-cc50-42f2-83c8-b97616ac2390"'),s(`
	}
}
`)])]),e("h3",{id:"graphql-5"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-5"},"#")]),e("p",null,"n/a")],-1),ue=e("hr",null,null,-1),_e=e("h2",{id:"clear-the-internal-cache"},[s("Clear the Internal Cache "),e("a",{class:"header-anchor",href:"#clear-the-internal-cache"},"#")],-1),fe=e("p",null,"Resets both the data and schema cache of Directus. This endpoint is only available to admin users.",-1),me=e("div",{class:"two-up"},[e("div",{class:"left"},[e("h3",{id:"request-body-6"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-6"},"#")]),e("p",null,"n/a"),e("h3",{id:"returns-6"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-6"},"#")]),e("p",null,"Empty body")]),e("div",{class:"right"},[e("h3",{id:"rest-api-6"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-6"},"#")]),e("pre",null,[e("code",{class:""},`POST /utils/cache/clear
`)]),e("h3",{id:"graphql-6"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-6"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	utils_cache_clear
}
`)])])])],-1),ge={title:"Utilities",modularExtension:!1,pageClass:"page-reference"},ye={name:"utilities",setup(qe,{expose:o}){return o({frontmatter:{title:"Utilities",modularExtension:!1,pageClass:"page-reference"}}),(je,be)=>{const t=r("router-link"),h=r("docswrapper");return c(),i(h,{frontmatter:ge},{default:a(()=>[e("div",d,[p,u,_,f,m,g,y,q,j,b,v,x,A,S,E,e("p",null,[R,T,w,l(t,{to:"/docs/reference/files/#upload-a-file"},{default:a(()=>[P]),_:1}),C]),e("p",null,[O,l(t,{to:"/docs/reference/query/#export"},{default:a(()=>[k]),_:1}),F]),e("div",I,[e("div",B,[D,e("p",null,[M,G,H,l(t,{to:"/docs/reference/files/#upload-a-file"},{default:a(()=>[L]),_:1}),U]),V,N]),Q]),W,J,X,e("div",Y,[e("div",$,[z,K,Z,e("div",ee,[se,e("p",null,[ae,te,le,re,ne,l(t,{to:"/docs/reference/query"},{default:a(()=>[oe]),_:1}),he]),ce]),ie,de]),pe]),ue,_e,fe,me])]),_:1})}}};typeof n=="function"&&n(ye);export{ye as default,ge as frontmatter};
