import{a as l,o as c,b as d,w as t,g as e,e as i,B as s}from"./runtime-core.esm-bundler.b1f35d24.js";var n={};const u={class:"markdown-body"},h=s("Users"),m=s(" are the individual accounts for authenticating into the API and App. Each user belongs to a "),p=s("Role"),f=s(" which defines its access "),_=s("Permissions"),g=s("."),w=e("p",null,[e("div",{class:"table-of-contents"},[e("ul",null,[e("li",null,[e("a",{href:"#overview"},"Overview")]),e("li",null,[e("a",{href:"#create-a-role"},"Create a Role")]),e("li",null,[e("a",{href:"#configure-a-role"},"Configure a Role")]),e("li",null,[e("a",{href:"#delete-a-role"},"Delete a Role")]),e("li",null,[e("a",{href:"#configure-permissions"},"Configure Permissions")]),e("li",null,[e("a",{href:"#configure-workflows"},"Configure Workflows")])])])],-1),b=s(" :::tip Before You Begin ::: "),y=e("h2",{id:"overview"},[s("Overview "),e("a",{class:"header-anchor",href:"#overview"},"#")],-1),v=e("p",null,"While this page focuses on configuration of Roles and Permissions, it is important to remember that Roles and Permissions are inherently intwined with Users. This is because every User must be assigned a Role to define their access permissions.",-1),A=e("p",null,"Directus comes with two Roles out of the box, Admin and Public. The Admin role provides full Permissions for all data in the app, and this cannot be limited. This Admin Role provides full, app-wide control to the Project owners, administrators, and creators. The Public role comes with all permissions turned off by default and these can be fully reconfigured as needed. This Public role determines the access permissions given for any unauthenticated request to app data including un-authenticated users, visitors to your website or any other web request to your Directus Project\u2019s API.",-1),P=e("p",null,"In addition, Admins can create as many Roles as they wish and configure permissions granularly.",-1),R=s(' Roles with _App Access_ enabled are created with some limited Permissions configured by default, so they can access the app and their own profile information. Roles that have neither _Admin_ nor _App Access_ enabled (such as the built-in _Public_ Role) are created with Public access permissions. ### Configure Public Permissions The Public permissions control what project data is accessible without authentication. This is managed via the Public "role", which is included in the system by default and can not be deleted. ::: warning Private by Default All of the data within the platform is private by default. Permissions for the public role can be granted on a case-by-case basis by administrators. ::: '),k=e("h2",{id:"create-a-role"},[s("Create a Role "),e("a",{class:"header-anchor",href:"#create-a-role"},"#")],-1),C=e("ol",null,[e("li",null,[s("Navigate to "),e("strong",null,[s("Settings "),e("span",{mi:"",icon:"",dark:""},"chevron_right"),s(" Roles & Permissions")])]),e("li",null,[s("Click "),e("span",{mi:"",btn:""},"add"),s(" in the header")]),e("li",null,[s("Enter a unique "),e("strong",null,"Role Name")]),e("li",null,[s("Enabling "),e("strong",null,"App Access"),s(" allows logging in to the App")]),e("li",null,[s("Enabling "),e("strong",null,"Admin Access"),s(" gives full permission to project data and Settings")]),e("li",null,[s("Click on "),e("strong",null,"Save"),s(" to save the role")])],-1),T=e("h2",{id:"configure-a-role"},[s("Configure a Role "),e("a",{class:"header-anchor",href:"#configure-a-role"},"#")],-1),F=e("ul",null,[e("li",null,[e("strong",null,"Permissions"),s(" \u2014 Configure "),e("a",{href:"#configure-permissions"},"access permissions"),s(" for the role")]),e("li",null,[e("strong",null,"Role Name"),s(" \u2014 This is the name of the role")]),e("li",null,[e("strong",null,"Role Icon"),s(" \u2014 The icon used throughout the App when referencing this role")]),e("li",null,[e("strong",null,"Description"),s(" \u2014 A helpful note that explains the role\u2019s purpose")]),e("li",null,[e("strong",null,"App Access"),s(" \u2014 Allows logging in to the App")]),e("li",null,[e("strong",null,"Admin Access"),s(" \u2014 Gives full permission to project data and Settings")]),e("li",null,[e("strong",null,"IP Access"),s(" \u2014 An allow-list of IP addresses from which the platform can be accessed, empty allows all")]),e("li",null,[e("strong",null,"Require 2FA"),s(" \u2014 Forces all users within this role to use two-factor authentication")]),e("li",null,[e("strong",null,"Users in Role"),s(" \u2014 A list of all users within this role")])],-1),S=e("h2",{id:"delete-a-role"},[s("Delete a Role "),e("a",{class:"header-anchor",href:"#delete-a-role"},"#")],-1),x=e("ol",null,[e("li",null,[s("Navigate to "),e("strong",null,[s("Settings "),e("span",{mi:"",icon:"",dark:""},"chevron_right"),s(" Roles & Permissions "),e("span",{mi:"",icon:"",dark:""},"chevron_right"),s(" [Role Name]")])]),e("li",null,[s("Click "),e("span",{mi:"",btn:"",dngr:""},"delete"),s(" in the header")]),e("li",null,[s("Confirm this decision by clicking "),e("strong",null,"Delete"),s(" in the dialog")])],-1),D=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Users in a Deleted Role"),e("p",null,[s("If you delete a role that still has users in it, those users will be given a "),e("code",{class:""},"NULL"),s(" role, which denies their App access and limits them to Public permissions. They can then be reassigned to a new role by an admin.")])],-1),I=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Last Admin"),e("p",null,"You must maintain at least one role/user with Admin Access so that you can still properly manage the project.")],-1),N=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Public Role"),e("p",null,"You can not delete the Public role, as it is part of the core platform. To disable it completely, simply turn off all Public access permissions.")],-1),U=e("h2",{id:"configure-permissions"},[s("Configure Permissions "),e("a",{class:"header-anchor",href:"#configure-permissions"},"#")],-1),q=e("p",null,"Directus possesses an extremely granular, yet easy to configure, permissions system. When creating a new role, permissions are disabled for all project collections by default \u2014 allowing you to give explicit access to only what is required. Individual permissions are applied to the role, and each is scoped to a specific collection and CRUD action (create, read, update, delete).",-1),j=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Saves Automatically"),e("p",null,"Every change made to the permissions of a role is saved automatically and instantly.")],-1),E=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Admin Roles"),e("p",null,[s("If a role is set to "),e("strong",null,"Admin Access"),s(" then it is granted complete access to the platform, and Permission configuration is disabled.")])],-1),B=e("ol",null,[e("li",null,[s("Navigate to "),e("strong",null,[s("Settings "),e("span",{mi:"",icon:"",dark:""},"chevron_right"),s(" Roles & Permissions "),e("span",{mi:"",icon:"",dark:""},"chevron_right"),s(" [Role Name]")])]),e("li",null,[s("Scroll to the "),e("strong",null,"Permissions"),s(" section")]),e("li",null,[e("strong",null,"Click the icon"),s(" for the collection (row) and action (column) you want to set")]),e("li",null,[s("Choose the desired permission level: "),e("span",{mi:"",icon:""},"check"),s(),e("strong",null,"All Access"),s(", "),e("span",{mi:"",icon:""},"block"),s(),e("strong",null,"No Access"),s(", or "),e("span",{mi:"",icon:""},"rule"),s(),e("strong",null,"Use Custom")])],-1),W=e("p",null,[s("If you selected "),e("strong",null,[s("\u201C"),e("span",{mi:"",icon:""},"check"),s(" All Access\u201D")]),s(" or "),e("strong",null,[s("\u201C"),e("span",{mi:"",icon:""},"block"),s(" No Access\u201D")]),s(" then setup is complete. If you chose to customize permissions then continue with the appropriate guide below based on the relevant "),e("em",null,"action"),s(".")],-1),V=e("h3",{id:"create-(custom-access)"},[s("Create (Custom Access) "),e("a",{class:"header-anchor",href:"#create-(custom-access)"},"#")],-1),Y=e("ol",{start:"5"},[e("li",null,[e("strong",null,"Field Permissions"),s(" control which fields accept a value on create. Fields are individually toggled.")]),e("li",null,[e("strong",null,"Field Validation"),s(" define the rules for field values on create")]),e("li",null,[e("strong",null,"Field Presets"),s(" control the field defaults when creating an item")])],-1),L=e("h3",{id:"read-(custom-access)"},[s("Read (Custom Access) "),e("a",{class:"header-anchor",href:"#read-(custom-access)"},"#")],-1),M={start:"5"},z=e("strong",null,"Item Permissions",-1),G=s(" control which items can be read, as defined by the "),O=s("Filter Rules"),K=s(" entered."),H=e("li",null,[e("strong",null,"Field Permissions"),s(" control which fields can be read. Fields are individually toggled.")],-1),J=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Read Field Permissions"),e("p",null,[s("The Directus App always requires read access to the Primary Key field (eg: "),e("code",{class:""},"id"),s(") so it can uniquely identify items. Also, if a Collection has \u201CArchive\u201D or \u201CSort\u201D fields configured, those fields will also need read access to use the App\u2019s soft-delete and manual sorting features.")])],-1),Q=e("h3",{id:"update-(custom-access)"},[s("Update (Custom Access) "),e("a",{class:"header-anchor",href:"#update-(custom-access)"},"#")],-1),X={start:"5"},Z=e("strong",null,"Item Permissions",-1),$=s(" control which items can be updated, as defined by "),ee=s("Filter Rules"),se=s("."),te=e("li",null,[e("strong",null,"Field Permissions"),s(" control which fields can be updated. Fields are individually toggled.")],-1),oe=e("strong",null,"Field Validation",-1),ie=s(" define the rules for field values on update, as defined by "),le=s("Filter Rules"),ne=s("."),ae=e("li",null,[e("strong",null,"Field Presets"),s(" control the field defaults when updating an item")],-1),re=e("h3",{id:"delete-(custom-access)"},[s("Delete (Custom Access) "),e("a",{class:"header-anchor",href:"#delete-(custom-access)"},"#")],-1),ce={start:"5"},de=e("strong",null,"Item Permissions",-1),ue=s(" control which items can be deleted, as defined by the "),he=s("Filter Rules"),me=s(" entered."),pe=e("hr",null,null,-1),fe=e("h3",{id:"configure-system-permissions"},[s("Configure System Permissions "),e("a",{class:"header-anchor",href:"#configure-system-permissions"},"#")],-1),_e=e("p",null,[s("In addition to permissions for "),e("em",null,"your"),s(" custom collections, you can also customize the permissions for "),e("em",null,"system"),s(" collections. To edit system permissions, follow these steps:")],-1),ge=e("ol",null,[e("li",null,[s("Go to "),e("strong",null,"Roles and Permissions"),s(" and select the desired Role."),e("br"),e("em",null,"You will be taken to the permissions configuration page.")]),e("li",null,[s("Click "),e("strong",null,"System Collections"),s(" at the bottom of the page.")]),e("li",null,"Find the desired System Collection."),e("li",null,"Set permissions as desired.")],-1),we=e("p",null,"There are two pre-configured options you can use for resetting the role\u2019s system permissions and ensure proper App access. To access these, click \u201CSystem Collections\u201D to expand, and then click one of the buttons at the bottom of the listing.",-1),be=e("ul",null,[e("li",null,[e("strong",null,"App Access Minimum"),s(" \u2014 The minimum permissions required to properly access the App")]),e("li",null,[e("strong",null,"Recommended Defaults"),s(" \u2014 More permissive but balanced for a better App user experience")])],-1),ye=e("div",{class:"tip hint"},[e("div",{class:"hint-title"},"Remember"),e("p",null,[s("When App Access is enabled, Directus will automatically add "),e("em",null,"(and hardcode)"),s(" permissions for the necessary system collections for that Role.")])],-1),ve=e("h2",{id:"configure-workflows"},[s("Configure Workflows "),e("a",{class:"header-anchor",href:"#configure-workflows"},"#")],-1),Ae=e("p",null,"Workflows are a way to add structured stages to the flow of content authoring. They are primarily defined through the permissions for a Collection, but can be further enhanced via email notifications, custom interfaces, and automation. Directus supports endlessly configurable workflows, so we will only cover one simple example below.",-1),Pe=s("To create a structured workflow for "),Re=e("strong",null,"Articles",-1),ke=s(", the first step is "),Ce=s("Creating a Field"),Te=s(" to track the article \u201Cstatus\u201D \u2014 we\u2019ll call it "),Fe=e("strong",null,"Status",-1),Se=s(", but it can be named anything."),xe=e("li",null,[s("Next, create different Roles for each stage of the workflow, such as "),e("code",{class:""},"author"),s(" and "),e("code",{class:""},"manager"),s(".")],-1),De=e("li",null,[s("Finally, configure the Role permissions based on the possible values of that Status field, such as "),e("code",{class:""},"draft"),s(", "),e("code",{class:""},"review"),s(", "),e("code",{class:""},"approved"),s(", and "),e("code",{class:""},"published"),s(", so that they are properly restricted to create content and update the status. "),e("ul",null,[e("li",null,[s("The Author can create content, but only save a status of "),e("code",{class:""},"draft"),s(" or "),e("code",{class:""},"review"),s(".")]),e("li",null,[s("The Manager has additional permissions that allow them to save statuses of "),e("code",{class:""},"approved"),s(" or "),e("code",{class:""},"published"),s(".")])])],-1),Ie={title:"Users, Roles & Permissions",modularExtension:!1},Ne={name:"users-roles-permissions",setup(Ue,{expose:a}){return a({frontmatter:{title:"Users, Roles & Permissions",modularExtension:!1}}),(qe,je)=>{const o=l("router-link"),r=l("docswrapper");return c(),d(r,{frontmatter:Ie},{default:t(()=>[e("div",u,[e("blockquote",null,[e("p",null,[i(o,{to:"/docs/getting-started/glossary/#users"},{default:t(()=>[h]),_:1}),m,i(o,{to:"/docs/getting-started/glossary/#roles"},{default:t(()=>[p]),_:1}),f,i(o,{to:"/docs/getting-started/glossary/#permissions"},{default:t(()=>[_]),_:1}),g])]),w,b,y,v,A,P,R,k,C,T,F,S,x,D,I,N,U,q,j,E,B,W,V,Y,L,e("ol",M,[e("li",null,[z,G,i(o,{to:"/docs/configuration/filter-rules"},{default:t(()=>[O]),_:1}),K]),H]),J,Q,e("ol",X,[e("li",null,[Z,$,i(o,{to:"/docs/configuration/filter-rules/"},{default:t(()=>[ee]),_:1}),se]),te,e("li",null,[oe,ie,i(o,{to:"/docs/configuration/filter-rules/"},{default:t(()=>[le]),_:1}),ne]),ae]),re,e("ol",ce,[e("li",null,[de,ue,i(o,{to:"/docs/configuration/filter-rules/"},{default:t(()=>[he]),_:1}),me])]),pe,fe,_e,ge,we,be,ye,ve,Ae,e("ol",null,[e("li",null,[Pe,Re,ke,i(o,{to:"/docs/configuration/data-model/#creating-a-field"},{default:t(()=>[Ce]),_:1}),Te,Fe,Se]),xe,De])])]),_:1})}}};typeof n=="function"&&n(Ne);export{Ne as default,Ie as frontmatter};
