import{a as l,o as d,b as c,w as t,g as e,e as n,B as o}from"./runtime-core.esm-bundler.b1f35d24.js";var i={};const h={class:"markdown-body"},u=e("blockquote",null,[e("p",null,"Operations are the actions performed after the Flow is triggered. Whether you need to access and create Data within Directus, send information off to outside services, create time-oriented Flows, set conditional logic or even trigger other Flows, these simple but powerful tasks can make it happen.")],-1),_=e("p",null,[e("div",{class:"table-of-contents"},[e("ul",null,[e("li",null,[e("a",{href:"#condition"},"Condition")]),e("li",null,[e("a",{href:"#create-data"},"Create Data")]),e("li",null,[e("a",{href:"#delete-data"},"Delete Data")]),e("li",null,[e("a",{href:"#read-data"},"Read Data")]),e("li",null,[e("a",{href:"#update-data"},"Update Data")]),e("li",null,[e("a",{href:"#log-to-console"},"Log to Console")]),e("li",null,[e("a",{href:"#send-email"},"Send Email")]),e("li",null,[e("a",{href:"#send-notification"},"Send Notification")]),e("li",null,[e("a",{href:"#webhook-%2F-request-url"},"Webhook / Request URL")]),e("li",null,[e("a",{href:"#sleep"},"Sleep")]),e("li",null,[e("a",{href:"#transform-payload"},"Transform Payload")]),e("li",null,[e("a",{href:"#trigger-flow"},"Trigger Flow")])])])],-1),p={class:"tip hint"},f=e("div",{class:"hint-title"},"Before You Begin",-1),m=o("Please be sure to read the documentation on "),g=o("Flows"),w=o(" and "),y=o("Triggers"),b=o("."),I=e("h2",{id:"condition"},[o("Condition "),e("a",{class:"header-anchor",href:"#condition"},"#")],-1),v=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/condition-20220603A.webp",alt:"Condition"})],-1),D=e("p",null,[o("Routes to the next success or failure Operation based on some conditional "),e("code",{class:""},"if"),o(" / "),e("code",{class:""},"else"),o(" logic defined by a Filter query. That means if the query condition is met, the Flow will move forward with the success Operation. Otherwise, the failure Operation will be initiated.")],-1),C=e("strong",null,"Condition Rules",-1),S=o(" \u2014 Create conditions with "),k=o("Filter Rules"),O=o("."),T=e("h2",{id:"create-data"},[o("Create Data "),e("a",{class:"header-anchor",href:"#create-data"},"#")],-1),F=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/create-data-20220603A.webp",alt:"Create Data"})],-1),A=e("p",null,"Creates some Item(s) in a Collection.",-1),q=e("li",null,[e("strong",null,"Collection"),o(" \u2014 Use the dropdown to select a Collection to create Items in.")],-1),R=e("li",null,[e("strong",null,"Permissions"),o(" \u2014 Set the scope of permissions used for this Operation.")],-1),P=e("li",null,[e("strong",null,"Emit Events"),o(" \u2014 Toggle whether the event is emitted.")],-1),U=e("strong",null,"Payload",-1),x=o(" \u2014 Create Item(s) in a Collection. To learn more, see "),E=o("API > Items"),L=o("."),N={class:"tip hint"},j=o("Make sure the Operation is scoped with the "),B=o("permissions"),M=o(" necessary to create Items."),W=e("h2",{id:"delete-data"},[o("Delete Data "),e("a",{class:"header-anchor",href:"#delete-data"},"#")],-1),J=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/delete-data-20220603A.webp",alt:"Delete Data"})],-1),Y=e("p",null,"Deletes some Item(s) from a Collection by ID or query.",-1),H=e("li",null,[e("strong",null,"Permissions"),o(" \u2014 Set the scope of permissions used for this Operation.")],-1),Q=e("li",null,[e("strong",null,"Collection"),o(" \u2014 Use the dropdown to set the Collection to delete Items from.")],-1),V=e("li",null,[e("strong",null,"IDs"),o(" \u2014 Set Item IDs and press enter to confirm. Click the ID to remove.")],-1),G=e("strong",null,"Query",-1),z=o(" \u2014 Select Items to delete with a query. To learn more, see "),K=o("Filter Rules"),X=o("."),Z={class:"tip hint"},$=o("Make sure the Operation is scoped with the "),ee=o("permissions"),oe=o(" necessary to delete Items."),te=e("h2",{id:"read-data"},[o("Read Data "),e("a",{class:"header-anchor",href:"#read-data"},"#")],-1),se=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/read-data-20220603A.webp",alt:"Read Data"})],-1),ne=e("p",null,"Reads Item(s) form a Collection and adds them onto the Flow Object. You may select Items by their ID or run a query to select the Items you wish to update.",-1),le=e("li",null,[e("strong",null,"Permissions"),o(" \u2014 Set the scope of permissions used for this Operation.")],-1),ie=e("li",null,[e("strong",null,"Collections"),o(" \u2014 Select the Collection to read Items from.")],-1),ae=e("li",null,[e("strong",null,"IDs"),o(" \u2014 Input ID for Item(s) you wish to read and press enter. Click the ID to remove.")],-1),re=e("strong",null,"Query",-1),de=o(" \u2014 Select Items with a query. To learn more, see "),ce=o("Filter Rules"),he=o("."),ue=e("h2",{id:"update-data"},[o("Update Data "),e("a",{class:"header-anchor",href:"#update-data"},"#")],-1),_e=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/update-data-20220603A.webp",alt:"Update Data"})],-1),pe=e("p",null,"Updates Item(s) in a Collection. You may select Items by their ID or run a query to select the Items you wish to update.",-1),fe=e("li",null,[e("strong",null,"Permissions"),o(" \u2014 Defines Role that this Operation will inherit permissions from.")],-1),me=e("li",null,[e("strong",null,"Collections"),o(" \u2014 Select the Collection to read Items from.")],-1),ge=e("li",null,[e("strong",null,"IDs"),o(" \u2014 Input ID for Item(s) you wish to read and press enter. Click the ID to remove.")],-1),we=e("strong",null,"Payload",-1),ye=o(" \u2014 Updates Item(s) in a Collection. To learn more, see "),be=o("API > Items"),Ie=o("."),ve=e("strong",null,"Query",-1),De=o(" \u2014 Select Items to update with a query. To learn more, see "),Ce=o("Filter Rules"),Se=o("."),ke=e("h2",{id:"log-to-console"},[o("Log to Console "),e("a",{class:"header-anchor",href:"#log-to-console"},"#")],-1),Oe=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/log-to-console-20220603A.webp",alt:"Log to Console"})],-1),Te=e("p",null,"Output something to the console. This will appear in both the server side and in-app Sidebar Console Log. This is a key tool to help troubleshoot Flow configuration.",-1),Fe=e("ul",null,[e("li",null,[e("strong",null,"Message"),o(" \u2014 Sets a "),e("a",{href:"#configuration/flows/flows/logs"},"log message"),o(".")])],-1),Ae=e("div",{class:"tip hint"},[e("p",null,"This will be delivered to your in-app Log Panel and also logged to the server-side console.")],-1),qe=e("h2",{id:"send-email"},[o("Send Email "),e("a",{class:"header-anchor",href:"#send-email"},"#")],-1),Re=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/send-email-20220603A.webp",alt:"Send Email"})],-1),Pe=e("p",null,"Sends email(s). Flow Object keys can be used as variables. This means an array of emails from a previous step in Flows could be used.",-1),Ue=e("ul",null,[e("li",null,[e("strong",null,"To"),o(" \u2014 Sets email addresses. Hit "),e("code",{class:""},"\u21B5"),o(" to save the email. Click an email to remove it.")]),e("li",null,[e("strong",null,"Subject"),o(" \u2014 Set subject line.")]),e("li",null,[e("strong",null,"Body"),o(" \u2014 Provides WYSIWYG editor to create email body.")])],-1),xe=e("div",{class:"tip hint"},[e("p",null,[o("If you are testing out this Operation locally from "),e("code",{class:""},"localhost:8080"),o(", be sure to check your spam box as your email provider may send it there automatically.")])],-1),Ee=e("h2",{id:"send-notification"},[o("Send Notification "),e("a",{class:"header-anchor",href:"#send-notification"},"#")],-1),Le=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/send-notification-20220603A.webp",alt:"Send Notification"})],-1),Ne=e("p",null,"Sends a notification to an app user.",-1),je=e("strong",null,"Users",-1),Be=o(" \u2014 Defines a User by their primary key UUID. Use "),Me=o("Flow keys"),We=o(" to set this dynamically."),Je=e("li",null,[e("strong",null,"Permissions"),o(" \u2014 Defines Role that this Operation will inherit permissions from.")],-1),Ye=e("li",null,[e("strong",null,"Title"),o(" \u2014 Sets the notification title.")],-1),He=e("li",null,[e("strong",null,"Message"),o(" \u2014 Sets the main body of the notification.")],-1),Qe=e("h2",{id:"webhook-%2F-request-url"},[o("Webhook / Request URL "),e("a",{class:"header-anchor",href:"#webhook-%2F-request-url"},"#")],-1),Ve=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/webhook-20220603A.webp",alt:"Webhok / Request URL"})],-1),Ge=e("p",null,"Makes a request to another URL.",-1),ze=e("ul",null,[e("li",null,[e("strong",null,"Method"),o(" \u2014 Choose to make a GET, POST, PATCH, DELETE, or other type of request.")]),e("li",null,[e("strong",null,"URL"),o(" \u2014 Define the URL to send request to.")]),e("li",null,[e("strong",null,"Headers"),o(" \u2014 Create new "),e("code",{class:""},"header:value"),o(" to pass along with the request.")]),e("li",null,[e("strong",null,"Request Body"),o(" \u2014 Set request body data. Use any string or JSON.")])],-1),Ke=e("h2",{id:"sleep"},[o("Sleep "),e("a",{class:"header-anchor",href:"#sleep"},"#")],-1),Xe=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/sleep-20220603A.webp",alt:"Sleep"})],-1),Ze=e("p",null,"Pauses Operation Execution on the Flow for a given amount of milliseconds. Then continues to the next Operation.",-1),$e=e("ul",null,[e("li",null,[e("strong",null,"Milliseconds"),o(" \u2014 Define the number of milliseconds to pause.")])],-1),eo=e("h2",{id:"transform-payload"},[o("Transform Payload "),e("a",{class:"header-anchor",href:"#transform-payload"},"#")],-1),oo=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/transform-payload-20220603A.webp",alt:"Transform Payload"})],-1),to=e("p",null,[o("Transform Payload simply creates a new key on the Flow Object with nested JSON data. This provides a clean space where you can combine data from multiple Flow keys all into one object. So for example, if you needed to use the same data multiple times "),e("em",null,"(e.g. send it in a web request and also use it to create an Item in a Collection)"),o(", you can combine the data one time with Transform Payload, then use its Operation key again and again.")],-1),so=e("ul",null,[e("li",null,[e("strong",null,"JSON"),o(" \u2014 Define JSON to insert into the Flow Object.")])],-1),no=e("h2",{id:"trigger-flow"},[o("Trigger Flow "),e("a",{class:"header-anchor",href:"#trigger-flow"},"#")],-1),lo=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/configuration/flows/operations/operations-20220603A/trigger-flow-20220603A.webp",alt:"Trigger Flow"})],-1),io=o("This Operation starts another Flow and passes data to it. It should be used in combination with the "),ao=o("Another Flow"),ro=o(" Trigger."),co=e("ul",null,[e("li",null,[e("strong",null,"Flow"),o(" \u2014 Define a Flow by its primary key UUID.")]),e("li",null,[e("strong",null,"Payload"),o(" \u2014 Define JSON to insert into the Flow Object.")])],-1),ho={title:"Operations",modularExtension:!1},uo={name:"operations",setup(_o,{expose:a}){return a({frontmatter:{title:"Operations",modularExtension:!1}}),(po,fo)=>{const s=l("router-link"),r=l("docswrapper");return d(),c(r,{frontmatter:ho},{default:t(()=>[e("div",h,[u,_,e("div",p,[f,e("p",null,[m,n(s,{to:"/docs/configuration/flows/flows"},{default:t(()=>[g]),_:1}),w,n(s,{to:"/docsflows/triggers"},{default:t(()=>[y]),_:1}),b])]),I,v,D,e("ul",null,[e("li",null,[C,S,n(s,{to:"/docs/configuration/filter-rules"},{default:t(()=>[k]),_:1}),O])]),T,F,A,e("ul",null,[q,R,P,e("li",null,[U,x,n(s,{to:"/docsreference/items/"},{default:t(()=>[E]),_:1}),L])]),e("div",N,[e("p",null,[j,n(s,{to:"/docsconfiguration/users-roles-permissions"},{default:t(()=>[B]),_:1}),M])]),W,J,Y,e("ul",null,[H,Q,V,e("li",null,[G,z,n(s,{to:"/docs/configuration/filter-rules"},{default:t(()=>[K]),_:1}),X])]),e("div",Z,[e("p",null,[$,n(s,{to:"/docsconfiguration/users-roles-permissions"},{default:t(()=>[ee]),_:1}),oe])]),te,se,ne,e("ul",null,[le,ie,ae,e("li",null,[re,de,n(s,{to:"/docs/configuration/filter-rules"},{default:t(()=>[ce]),_:1}),he])]),ue,_e,pe,e("ul",null,[fe,me,ge,e("li",null,[we,ye,n(s,{to:"/docsreference/items/"},{default:t(()=>[be]),_:1}),Ie]),e("li",null,[ve,De,n(s,{to:"/docs/configuration/filter-rules"},{default:t(()=>[Ce]),_:1}),Se])]),ke,Oe,Te,Fe,Ae,qe,Re,Pe,Ue,xe,Ee,Le,Ne,e("ul",null,[e("li",null,[je,Be,n(s,{to:"/docs/configuration/flows/flows/#the-flow-object"},{default:t(()=>[Me]),_:1}),We]),Je,Ye,He]),Qe,Ve,Ge,ze,Ke,Xe,Ze,$e,eo,oo,to,so,no,lo,e("p",null,[io,n(s,{to:"/docs/configuration/triggers/#another-flow"},{default:t(()=>[ao]),_:1}),ro]),co])]),_:1})}}};typeof i=="function"&&i(uo);export{uo as default,ho as frontmatter};
