import{a as n,o as c,b as h,w as t,g as e,e as l,B as s}from"./runtime-core.esm-bundler.b1f35d24.js";var o={};const d={class:"markdown-body"},u=e("div",{class:"two-up"},[e("div",{class:"left"},[e("blockquote",null,[e("p",null,[s("Every file managed by the platform is uploaded to the configured storage adapter, and its associated metadata is tracked within the "),e("code",{class:""},"directus_files"),s(" system collection. Any requested file transformations are handled on the fly, and are only saved to storage.")])])]),e("div",{class:"right"},[e("p",null,[e("div",{class:"table-of-contents"},[e("ul",null,[e("li",null,[e("a",{href:"#accessing-an-file"},"Accessing an File")]),e("li",null,[e("a",{href:"#downloading-a-file"},"Downloading a File")]),e("li",null,[e("a",{href:"#requesting-a-thumbnail"},"Requesting a Thumbnail")]),e("li",null,[e("a",{href:"#the-file-object"},"The File Object")]),e("li",null,[e("a",{href:"#list-files"},"List Files")]),e("li",null,[e("a",{href:"#retrieve-a-file"},"Retrieve a File")]),e("li",null,[e("a",{href:"#upload-a-file"},"Upload a File")]),e("li",null,[e("a",{href:"#import-a-file"},"Import a File")]),e("li",null,[e("a",{href:"#update-a-file"},"Update a File")]),e("li",null,[e("a",{href:"#update-multiple-files"},"Update Multiple Files")]),e("li",null,[e("a",{href:"#delete-a-file"},"Delete a File")]),e("li",null,[e("a",{href:"#delete-multiple-files"},"Delete Multiple Files")])])])])])],-1),p=e("hr",null,null,-1),f=e("h2",{id:"accessing-an-file"},[s("Accessing an File "),e("a",{class:"header-anchor",href:"#accessing-an-file"},"#")],-1),_=e("div",{class:"two-up"},[e("div",{class:"left"},[e("p",null,"The location of your actual file originals is based on the project\u2019s configuration, but you can consistently access them via the API using the following URL."),e("pre",null,[e("code",{class:""},`example.com/assets/<file-id>
example.com/assets/1ac73658-8b62-4dea-b6da-529fbc9d01a4
`)]),e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Direct File Access"),e("p",null,[s("While you may "),e("em",null,"technically"),s(" be able to expose your storage adapters root filesystem and access your raw files through there, it is recommended that you always use the Directus API. This is the only way that you can take advantage of file permissions and other built-in features.")])])]),e("div",{class:"right"},[e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/reference/files/original-20220216A.jpg",alt:"Original File"}),s(),e("em",null,"Original File Used \u2014 602KB and 1800x1200")])])],-1),m=e("hr",null,null,-1),g=e("h2",{id:"downloading-a-file"},[s("Downloading a File "),e("a",{class:"header-anchor",href:"#downloading-a-file"},"#")],-1),y=e("div",{class:"two-up"},[e("div",{class:"left"},[e("p",null,[s("To download an asset with the correct filename, you need to add the "),e("code",{class:""},"?download"),s(" query parameter to the request and the "),e("code",{class:""},"download"),s(" attribute to your anchor tag. This will ensure the appropriate "),e("a",{href:"https://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html",target:"_blank",rel:"noopener noreferrer"},"Content-Disposition"),s(" headers are added. Without this, the download will work on the "),e("em",null,"same"),s(" domain, however it will have the file\u2019s \u201Cid\u201D as the filename for cross-origin requests.")])]),e("div",{class:"right"},[e("h3",{id:"example"},[s("Example "),e("a",{class:"header-anchor",href:"#example"},"#")]),e("pre",null,[e("code",{class:"language-html"},[e("span",{class:"hljs-tag"},[s("<"),e("span",{class:"hljs-name"},"a"),s(),e("span",{class:"hljs-attr"},"href"),s("="),e("span",{class:"hljs-string"},'"https://your-directus.com/assets/<file-id>?download"'),s(),e("span",{class:"hljs-attr"},"target"),s("="),e("span",{class:"hljs-string"},'"_blank"'),s(),e("span",{class:"hljs-attr"},"download"),s("="),e("span",{class:"hljs-string"},'"Your File.pdf"'),s(">")]),s("Download"),e("span",{class:"hljs-tag"},[s("</"),e("span",{class:"hljs-name"},"a"),s(">")]),s(`
`)])])])],-1),b=e("hr",null,null,-1),j=e("h2",{id:"requesting-a-thumbnail"},[s("Requesting a Thumbnail "),e("a",{class:"header-anchor",href:"#requesting-a-thumbnail"},"#")],-1),v={class:"two-up"},q={class:"left"},w=e("p",null,[s("Fetching thumbnails is as easy as adding a "),e("code",{class:""},"key"),s(" query parameter to the original file\u2019s URL. In the Admin App, you can configure different asset presets that control the output of any given image. If a requested thumbnail doesn\u2019t yet exist, it is dynamically generated and immediately returned.")],-1),x=e("h3",{id:"preset-transformations"},[s("Preset Transformations "),e("a",{class:"header-anchor",href:"#preset-transformations"},"#")],-1),T=e("strong",null,[e("code",{class:""},"key")],-1),k=s(" \u2014 This "),R=e("strong",null,"key",-1),E=s(" of the "),A=s("Storage Asset Preset"),D=s(", a shortcut for the below parameters"),F=e("h3",{id:"custom-transformations"},[s("Custom Transformations "),e("a",{class:"header-anchor",href:"#custom-transformations"},"#")],-1),P=e("p",null,"Alternatively, if you have \u201CStorage Asset Transform\u201D set to all, you can use the following parameters for more fine grained control:",-1),S=e("ul",null,[e("li",null,[e("strong",null,[e("code",{class:""},"fit")]),s(" \u2014 The "),e("strong",null,"fit"),s(" of the thumbnail while always preserving the aspect ratio, can be any of the following options: "),e("ul",null,[e("li",null,[e("code",{class:""},"cover"),s(" \u2014 Covers both width/height by cropping/clipping to fit")]),e("li",null,[e("code",{class:""},"contain"),s(" \u2014 Contain within both width/height using \u201Cletterboxing\u201D as needed")]),e("li",null,[e("code",{class:""},"inside"),s(" \u2014 Resize to be as large as possible, ensuring dimensions are less than or equal to the requested width and height")]),e("li",null,[e("code",{class:""},"outside"),s(" \u2014 Resize to be as small as possible, ensuring dimensions are greater than or equal to the requested width and height")])])]),e("li",null,[e("strong",null,[e("code",{class:""},"width")]),s(" \u2014 The "),e("strong",null,"width"),s(" of the thumbnail in pixels")]),e("li",null,[e("strong",null,[e("code",{class:""},"height")]),s(" \u2014 The "),e("strong",null,"height"),s(" of the thumbnail in pixels")]),e("li",null,[e("strong",null,[e("code",{class:""},"quality")]),s(" \u2014 The optional "),e("strong",null,"quality"),s(" of the thumbnail ("),e("code",{class:""},"1"),s(" to "),e("code",{class:""},"100"),s(")")]),e("li",null,[e("strong",null,[e("code",{class:""},"withoutEnlargement")]),s(" \u2014 Disable image up-scaling")]),e("li",null,[e("strong",null,[e("code",{class:""},"format")]),s(" \u2014 What file format to return the thumbnail in. One of "),e("code",{class:""},"jpg"),s(", "),e("code",{class:""},"png"),s(", "),e("code",{class:""},"webp"),s(", "),e("code",{class:""},"tiff")])],-1),C=e("h3",{id:"advanced-transformations"},[s("Advanced Transformations "),e("a",{class:"header-anchor",href:"#advanced-transformations"},"#")],-1),I=e("p",null,[s("For even more advanced control over the file generation, Directus exposes "),e("a",{href:"https://sharp.pixelplumbing.com/api-operation",target:"_blank",rel:"noopener noreferrer"},[s("the full "),e("code",{class:""},"sharp"),s(" API")]),s(" through the "),e("code",{class:""},"transforms"),s(" query parameter. This parameter accepts a two-dimensional array with the format "),e("code",{class:""},"[Operation, ...arguments]"),s(".")],-1),O=e("h3",{id:"quality-vs-filesize"},[s("Quality vs Filesize "),e("a",{class:"header-anchor",href:"#quality-vs-filesize"},"#")],-1),Q=e("p",null,[s("The quality parameter can be any integer from "),e("code",{class:""},"0-100"),s(". Qualities closer to "),e("code",{class:""},"0"),s(" have lower filesizes, but also poor image quality due to compression artifacts. Values closer to "),e("code",{class:""},"100"),s(" have larger filesizes, but better image quality. Below are four possible qualities (200x200 cover) to visually compare the balance between compression and filesize.")],-1),B=e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"25%"),e("th",null,"50%"),e("th",null,"75%"),e("th",null,"100%")])]),e("tbody",null,[e("tr",null,[e("td",null,[e("img",{src:"https://cdn.directus.io/docs/v9/reference/files/200-200-cover-25-20220216A.jpg",alt:"25%"}),e("br"),e("em",null,"4KB")]),e("td",null,[e("img",{src:"https://cdn.directus.io/docs/v9/reference/files/200-200-cover-50-20220216A.jpg",alt:"50%"}),e("br"),e("em",null,"6KB")]),e("td",null,[e("img",{src:"https://cdn.directus.io/docs/v9/reference/files/200-200-cover-75-20220216A.jpg",alt:"75%"}),e("br"),e("em",null,"8KB")]),e("td",null,[e("img",{src:"https://cdn.directus.io/docs/v9/reference/files/200-200-cover-100-20220216A.jpg",alt:"100%"}),e("br"),e("em",null,"38KB")])])])],-1),L=e("div",{class:"right"},[e("h3",{id:"preset"},[s("Preset "),e("a",{class:"header-anchor",href:"#preset"},"#")]),e("pre",null,[e("code",{class:""},`example.com/assets/<file-id>?key=<key>
`)]),e("h3",{id:"custom"},[s("Custom "),e("a",{class:"header-anchor",href:"#custom"},"#")]),e("pre",null,[e("code",{class:""},`example.com/assets/<file-id>?fit=<fit>&width=<width>&height=<height>&quality=<quality>
example.com/assets/1ac73658-8b62-4dea-b6da-529fbc9d01a4?fit=cover&width=200&height=200&quality=80
`)]),e("h3",{id:"advanced"},[s("Advanced "),e("a",{class:"header-anchor",href:"#advanced"},"#")]),e("pre",null,[e("code",{class:""},`?transforms=[
	["blur", 45],
	["tint", "rgb(255, 0, 0)"],
	["expand", { "right": 200, "bottom": 150 }]
]
`)])],-1),X=e("hr",null,null,-1),U=e("h2",{id:"the-file-object"},[s("The File Object "),e("a",{class:"header-anchor",href:"#the-file-object"},"#")],-1),Y={class:"two-up"},M={class:"left"},G={class:"definitions"},N=e("p",null,[e("code",{class:""},"id"),s(),e("strong",null,"uuid"),e("br"),s(" Primary key of the file")],-1),z=e("p",null,[e("code",{class:""},"storage"),s(),e("strong",null,"string"),e("br"),s(" Storage adapter used for the file.")],-1),Z=e("p",null,[e("code",{class:""},"filename_disk"),s(),e("strong",null,"string"),e("br"),s(" Name of the file as saved on the storage adapter.")],-1),H=e("p",null,[e("code",{class:""},"filename_download"),s(),e("strong",null,"string"),e("br"),s(" Preferred filename when file is downloaded.")],-1),W=e("p",null,[e("code",{class:""},"title"),s(),e("strong",null,"string"),e("br"),s(" Title for the file.")],-1),K=e("p",null,[e("code",{class:""},"type"),s(),e("strong",null,"string"),e("br"),s(" Mimetype of the file.")],-1),J=e("code",{class:""},"folder",-1),V=s(),$=e("strong",null,"many-to-one",-1),ee=e("br",null,null,-1),se=s(" What (virtual) folder the file is in. Many-to-one to "),te=s("folders"),ae=s("."),le=e("code",{class:""},"uploaded_by",-1),ne=s(),oe=e("strong",null,"many-to-one",-1),ie=e("br",null,null,-1),re=s(" Who uploaded the file. Many-to-one to "),ce=s("users"),he=s("."),de=e("p",null,[e("code",{class:""},"uploaded_on"),s(),e("strong",null,"datetime"),e("br"),s(" When the file was uploaded.")],-1),ue=e("code",{class:""},"modified_by",-1),pe=s(),fe=e("strong",null,"many-to-one",-1),_e=e("br",null,null,-1),me=s(" Who updated the file last. Many-to-one to "),ge=s("users"),ye=s("."),be=e("p",null,[e("code",{class:""},"filesize"),s(),e("strong",null,"number"),e("br"),s(" Size of the file in bytes.")],-1),je=e("p",null,[e("code",{class:""},"width"),s(),e("strong",null,"number"),e("br"),s(" If the file is a(n) image/video, it\u2019s the width in px.")],-1),ve=e("p",null,[e("code",{class:""},"height"),s(),e("strong",null,"number"),e("br"),s(" If the file is a(n) image/video, it\u2019s the height in px.")],-1),qe=e("p",null,[e("code",{class:""},"duration"),s(),e("strong",null,"number"),e("br"),s(" If the file contains audio/video, it\u2019s the duration in milliseconds.")],-1),we=e("p",null,[e("code",{class:""},"description"),s(),e("strong",null,"string"),e("br"),s(" Description of the file.")],-1),xe=e("p",null,[e("code",{class:""},"location"),s(),e("strong",null,"string"),e("br"),s(" Location of the file.")],-1),Te=e("p",null,[e("code",{class:""},"tags"),s(),e("strong",null,"array"),e("br"),s(" Tags for the file.")],-1),ke=e("p",null,[e("code",{class:""},"metadata"),s(),e("strong",null,"object"),e("br"),s(" Any additional metadata Directus was able to scrape from the file. For images, this includes EXIF, IPTC, and ICC information.")],-1),Re=e("div",{class:"right"},[e("pre",null,[e("code",{class:"language-json"},[s(`{
	`),e("span",{class:"hljs-attr"},'"id"'),s(": "),e("span",{class:"hljs-string"},'"4f4b14fa-a43a-46d0-b7ad-90af5919bebb"'),s(`,
	`),e("span",{class:"hljs-attr"},'"storage"'),s(": "),e("span",{class:"hljs-string"},'"local"'),s(`,
	`),e("span",{class:"hljs-attr"},'"filename_disk"'),s(": "),e("span",{class:"hljs-string"},'"4f4b14fa-a43a-46d0-b7ad-90af5919bebb.jpeg"'),s(`,
	`),e("span",{class:"hljs-attr"},'"filename_download"'),s(": "),e("span",{class:"hljs-string"},'"paulo-silva-vSRgXtQuns8-unsplash.jpg"'),s(`,
	`),e("span",{class:"hljs-attr"},'"title"'),s(": "),e("span",{class:"hljs-string"},'"Paulo Silva (via Unsplash)"'),s(`,
	`),e("span",{class:"hljs-attr"},'"type"'),s(": "),e("span",{class:"hljs-string"},'"image/jpeg"'),s(`,
	`),e("span",{class:"hljs-attr"},'"folder"'),s(": "),e("span",{class:"hljs-literal"},"null"),s(`,
	`),e("span",{class:"hljs-attr"},'"uploaded_by"'),s(": "),e("span",{class:"hljs-string"},'"0bc7b36a-9ba9-4ce0-83f0-0a526f354e07"'),s(`,
	`),e("span",{class:"hljs-attr"},'"uploaded_on"'),s(": "),e("span",{class:"hljs-string"},'"2021-02-04T11:37:41-05:00"'),s(`,
	`),e("span",{class:"hljs-attr"},'"modified_by"'),s(": "),e("span",{class:"hljs-literal"},"null"),s(`,
	`),e("span",{class:"hljs-attr"},'"modified_on"'),s(": "),e("span",{class:"hljs-string"},'"2021-02-04T11:37:42-05:00"'),s(`,
	`),e("span",{class:"hljs-attr"},'"filesize"'),s(": "),e("span",{class:"hljs-number"},"3442252"),s(`,
	`),e("span",{class:"hljs-attr"},'"width"'),s(": "),e("span",{class:"hljs-number"},"3456"),s(`,
	`),e("span",{class:"hljs-attr"},'"height"'),s(": "),e("span",{class:"hljs-number"},"5184"),s(`,
	`),e("span",{class:"hljs-attr"},'"duration"'),s(": "),e("span",{class:"hljs-literal"},"null"),s(`,
	`),e("span",{class:"hljs-attr"},'"description"'),s(": "),e("span",{class:"hljs-literal"},"null"),s(`,
	`),e("span",{class:"hljs-attr"},'"location"'),s(": "),e("span",{class:"hljs-literal"},"null"),s(`,
	`),e("span",{class:"hljs-attr"},'"tags"'),s(": ["),e("span",{class:"hljs-string"},'"photo"'),s(", "),e("span",{class:"hljs-string"},'"pretty"'),s(`],
	`),e("span",{class:"hljs-attr"},'"metadata"'),s(`: {
		`),e("span",{class:"hljs-attr"},'"icc"'),s(`: {
			`),e("span",{class:"hljs-attr"},'"version"'),s(": "),e("span",{class:"hljs-string"},'"2.1"'),s(`,
			`),e("span",{class:"hljs-attr"},'"intent"'),s(": "),e("span",{class:"hljs-string"},'"Perceptual"'),s(`,
			`),e("span",{class:"hljs-attr"},'"cmm"'),s(": "),e("span",{class:"hljs-string"},'"lcms"'),s(`,
			`),e("span",{class:"hljs-attr"},'"deviceClass"'),s(": "),e("span",{class:"hljs-string"},'"Monitor"'),s(`,
			`),e("span",{class:"hljs-attr"},'"colorSpace"'),s(": "),e("span",{class:"hljs-string"},'"RGB"'),s(`,
			`),e("span",{class:"hljs-attr"},'"connectionSpace"'),s(": "),e("span",{class:"hljs-string"},'"XYZ"'),s(`,
			`),e("span",{class:"hljs-attr"},'"platform"'),s(": "),e("span",{class:"hljs-string"},'"Apple"'),s(`,
			`),e("span",{class:"hljs-attr"},'"creator"'),s(": "),e("span",{class:"hljs-string"},'"lcms"'),s(`,
			`),e("span",{class:"hljs-attr"},'"description"'),s(": "),e("span",{class:"hljs-string"},'"c2"'),s(`,
			`),e("span",{class:"hljs-attr"},'"copyright"'),s(": "),e("span",{class:"hljs-string"},'""'),s(`
		}
	}
}
`)])])],-1),Ee=e("hr",null,null,-1),Ae=e("h2",{id:"list-files"},[s("List Files "),e("a",{class:"header-anchor",href:"#list-files"},"#")],-1),De=e("p",null,"List all files that exist in Directus.",-1),Fe={class:"two-up"},Pe={class:"left"},Se=e("h3",{id:"query-parameters"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters"},"#")],-1),Ce=s("Supports all "),Ie=s("global query parameters"),Oe=s("."),Qe=e("h3",{id:"returns"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns"},"#")],-1),Be=s("An array of up to "),Le=s("limit"),Xe=s(),Ue=e("a",{href:"#the-file-object"},"file objects",-1),Ye=s(". If no items are available, data will be an empty array."),Me={class:"right"},Ge=e("h3",{id:"rest-api"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api"},"#")],-1),Ne=e("pre",null,[e("code",{class:""},`GET /files
SEARCH /files
`)],-1),ze=s("Learn more about SEARCH ->"),Ze=e("h3",{id:"graphql"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql"},"#")],-1),He=e("pre",null,[e("code",{class:""},`POST /graphql/system
`)],-1),We=e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Query"),s(` {
	files: [directus_files]
}
`)])],-1),Ke=e("h5",{id:"example-2"},[s("Example "),e("a",{class:"header-anchor",href:"#example-2"},"#")],-1),Je=e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"query"),s(` {
	files {
		id
		filename_disk
	}
}
`)])],-1),Ve=e("hr",null,null,-1),$e=e("h2",{id:"retrieve-a-file"},[s("Retrieve a File "),e("a",{class:"header-anchor",href:"#retrieve-a-file"},"#")],-1),es=e("p",null,"Retrieve a single file by primary key.",-1),ss={class:"two-up"},ts={class:"left"},as=e("h3",{id:"query-parameters-2"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters-2"},"#")],-1),ls=s("Supports all "),ns=s("global query parameters"),os=s("."),is=e("h3",{id:"returns-2"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-2"},"#")],-1),rs=e("p",null,[s("Returns a "),e("a",{href:"#the-file-object"},"file object"),s(" if a valid primary key was provided.")],-1),cs=e("div",{class:"right"},[e("h3",{id:"rest-api-2"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-2"},"#")]),e("pre",null,[e("code",{class:""},`GET /files/:id
`)]),e("h5",{id:"example-3"},[s("Example "),e("a",{class:"header-anchor",href:"#example-3"},"#")]),e("pre",null,[e("code",{class:""},`GET /files/0fca80c4-d61c-4404-9fd7-6ba86b64154d
`)]),e("h3",{id:"graphql-2"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-2"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Query"),s(` {
	files_by_id(id:`),e("span",{class:"hljs-literal"}," ID"),s(`!): directus_files
}
`)])]),e("h5",{id:"example-4"},[s("Example "),e("a",{class:"header-anchor",href:"#example-4"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"query"),s(` {
	files_by_id(id: `),e("span",{class:"hljs-string"},'"0fca80c4-d61c-4404-9fd7-6ba86b64154d"'),s(`) {
		id
		filename_disk
	}
}
`)])])],-1),hs=e("h2",{id:"upload-a-file"},[s("Upload a File "),e("a",{class:"header-anchor",href:"#upload-a-file"},"#")],-1),ds=e("p",null,"Upload/create a new file.",-1),us={class:"two-up"},ps={class:"left"},fs=e("p",null,[s("To upload a file, use "),e("code",{class:""},"multipart/form-data"),s(" as the encoding type, instead of JSON.")],-1),_s=e("p",null,[s("The file contents has to be provided in a part called "),e("code",{class:""},"file"),s(". All other properties of "),e("a",{href:"#the-file-object"},"the file object"),s(" can be provided as parts as well.")],-1),ms=e("div",{class:"tip hint"},[e("div",{class:"hint-title"},"Order Matters"),e("p",null,[s("Make sure to define the non-file properties "),e("em",null,"first"),s(". This ensures that the file metadata is associated with the correct file.")])],-1),gs=e("p",null,"You can upload multiple files at a time by repeating the payload with different contents, for example:",-1),ys=e("pre",null,[e("code",{class:""},`--__X_BOUNDARY__
Content-Disposition: form-data; name="title"

Example
--__X_BOUNDARY__
Content-Disposition: form-data; name="file"; filename="paulo-silva-vSRgXtQuns8-unsplash.jpg"
Content-Type: image/jpeg

// binary data

--__X_BOUNDARY__
Content-Disposition: form-data; name="title"

Another Title
--__X_BOUNDARY__
Content-Disposition: form-data; name="file"; filename="mae-mu-GFhqNX1gE9E-unsplash.jpg"
Content-Type: image/jpeg

// binary data
`)],-1),bs=e("p",null,[s("In JavaScript, this can be achieved using the native "),e("code",{class:""},"FormData"),s(" class:")],-1),js=e("pre",null,[e("code",{class:"language-js"},[e("span",{class:"hljs-keyword"},"import"),s(" axios "),e("span",{class:"hljs-keyword"},"from"),s(),e("span",{class:"hljs-string"},"'axios'"),s(`;

`),e("span",{class:"hljs-keyword"},"const"),s(" fileInput = "),e("span",{class:"hljs-built_in"},"document"),s(".querySelector("),e("span",{class:"hljs-string"},`'input[type="file"]'`),s(`);
`),e("span",{class:"hljs-keyword"},"const"),s(" formData = "),e("span",{class:"hljs-keyword"},"new"),s(` FormData();

formData.append(`),e("span",{class:"hljs-string"},"'title'"),s(", "),e("span",{class:"hljs-string"},"'My First File'"),s(`);
formData.append(`),e("span",{class:"hljs-string"},"'file'"),s(", fileInput.files["),e("span",{class:"hljs-number"},"0"),s(`]);

`),e("span",{class:"hljs-keyword"},"await"),s(" axios.post("),e("span",{class:"hljs-string"},"'/files'"),s(`, formData);
`)])],-1),vs=e("h3",{id:"query-parameters-3"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters-3"},"#")],-1),qs=s("Supports all "),ws=s("global query parameters"),xs=s("."),Ts=e("h3",{id:"returns-3"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-3"},"#")],-1),ks=e("p",null,[s("Returns the "),e("a",{href:"#the-file-object"},"file object"),s(" for the uploaded file, or an array of "),e("a",{href:"#the-file-object"},"file objects"),s(" if multiple files were uploaded at once.")],-1),Rs=e("div",{class:"right"},[e("pre",null,[e("code",{class:""},`POST /files
`)]),e("pre",null,[e("code",{class:""},`// Request

Content-Type: multipart/form-data; charset=utf-8; boundary=__X_BOUNDARY__
Content-Length: 3442422

--__X_BOUNDARY__
Content-Disposition: form-data; name="file"; filename="paulo-silva-vSRgXtQuns8-unsplash.jpg"
Content-Type: image/jpeg

\xFF\xD8\xFF\xE0JFIFHH\xFF\xE2ICC_PROFILE\flcmsmntrRGB XYZ \x07\xDC)9acspAPPL\xF6\xD6\xD3-lcms
desc\xFC^cprt\\\vwtpthbkpt|rXYZ\x90gXYZ\xA4bXYZ\xB8rTRC\xCC@gTRC\xCC@bTRC\xCC@descc2textIXXYZ \xF6\xD6\xD3-XYZ 3\xA4XYZ o\xA28\xF5\x90XYZ b\x99\xB7\x85\xDAXYZ $\xA0\x84\xB6\xCFcurv\xCB\xC9c\x92\bk\v\xF6?Q\x1B4!\xF1)\x902;\x92FQw]\xEDkpz\x89\xB1\x9A|\xACi\xBF}\xD3\xC3\xE90\xFF\xFF\xFF\xDB\x84\b\b\x07\x07
`)])],-1),Es=e("hr",null,null,-1),As=e("h2",{id:"import-a-file"},[s("Import a File "),e("a",{class:"header-anchor",href:"#import-a-file"},"#")],-1),Ds=e("p",null,"Import a file from the web",-1),Fs={class:"two-up"},Ps={class:"left"},Ss=e("h3",{id:"query-parameters-4"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters-4"},"#")],-1),Cs=s("Supports all "),Is=s("global query parameters"),Os=s("."),Qs=e("h3",{id:"request-body"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body"},"#")],-1),Bs=e("div",{class:"definitions"},[e("p",null,[e("code",{class:""},"url"),s(),e("strong",null,"Required"),e("br"),s(" The URL to download the file from.")]),e("p",null,[e("code",{class:""},"data"),e("br"),s(" Any of "),e("a",{href:"#the-file-object"},"the file object"),s("\u2019s properties.")])],-1),Ls=e("h3",{id:"returns-4"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-4"},"#")],-1),Xs=e("p",null,[s("Returns the "),e("a",{href:"#the-file-object"},"file object"),s(" for the imported file.")],-1),Us=e("div",{class:"right"},[e("h3",{id:"rest-api-3"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-3"},"#")]),e("pre",null,[e("code",{class:""},`POST /files/import
`)]),e("h5",{id:"example-5"},[s("Example "),e("a",{class:"header-anchor",href:"#example-5"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// POST /files/import"),s(`

{
	`),e("span",{class:"hljs-attr"},'"url"'),s(": "),e("span",{class:"hljs-string"},'"https://source.unsplash.com/random"'),s(`,
	`),e("span",{class:"hljs-attr"},'"data"'),s(`: {
		`),e("span",{class:"hljs-attr"},'"title"'),s(": "),e("span",{class:"hljs-string"},'"Example"'),s(`
	}
}
`)])]),e("h3",{id:"graphql-3"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-3"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	import_file(url:`),e("span",{class:"hljs-type"}," String"),s(`!, data: create_directus_files_input!): directus_files
}
`)])]),e("h5",{id:"example-6"},[s("Example "),e("a",{class:"header-anchor",href:"#example-6"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	import_file(url: `),e("span",{class:"hljs-string"},'"https://source.unsplash.com/random"'),s(", data: { title: "),e("span",{class:"hljs-string"},'"Example"'),s(` }) {
		id
	}
}
`)])])],-1),Ys=e("hr",null,null,-1),Ms=e("h2",{id:"update-a-file"},[s("Update a File "),e("a",{class:"header-anchor",href:"#update-a-file"},"#")],-1),Gs=e("p",null,"Update an existing file, and/or replace it\u2019s file contents.",-1),Ns={class:"two-up"},zs={class:"left"},Zs=e("h3",{id:"query-parameters-5"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters-5"},"#")],-1),Hs=s("Supports all "),Ws=s("global query parameters"),Ks=s("."),Js=e("h3",{id:"request-body-2"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-2"},"#")],-1),Vs=e("p",null,[s("You can either submit a JSON object consisting of a partial "),e("a",{href:"#the-file-object"},"file object"),s(" to update the file meta, or send a multipart/form-data request to replace the file contents on disk. See "),e("a",{href:"#upload-a-file"},"Upload a File"),s(" for more information on the structure of this "),e("code",{class:""},"multipart/form-data"),s(" request.")],-1),$s=e("h3",{id:"returns-5"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-5"},"#")],-1),et=e("p",null,[s("Returns the "),e("a",{href:"#the-file-object"},"file object"),s(" for the updated file.")],-1),st=e("div",{class:"right"},[e("h3",{id:"rest-api-4"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-4"},"#")]),e("pre",null,[e("code",{class:""},`PATCH /files/:id
`)]),e("h5",{id:"example-7"},[s("Example "),e("a",{class:"header-anchor",href:"#example-7"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// PATCH /files/0fca80c4-d61c-4404-9fd7-6ba86b64154d"),s(`

{
	`),e("span",{class:"hljs-attr"},'"title"'),s(": "),e("span",{class:"hljs-string"},'"Example"'),s(`
}
`)])]),e("h3",{id:"graphql-4"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-4"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	update_files_item(id:`),e("span",{class:"hljs-literal"}," ID"),s(`!, data: update_directus_files_input!): directus_files
}
`)])]),e("h5",{id:"example-8"},[s("Example "),e("a",{class:"header-anchor",href:"#example-8"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	update_files_item(id: `),e("span",{class:"hljs-string"},'"0fca80c4-d61c-4404-9fd7-6ba86b64154d"'),s(", data: { title: "),e("span",{class:"hljs-string"},'"Example"'),s(` }) {
		id
		title
	}
}
`)])])],-1),tt=e("hr",null,null,-1),at=e("h2",{id:"update-multiple-files"},[s("Update Multiple Files "),e("a",{class:"header-anchor",href:"#update-multiple-files"},"#")],-1),lt=e("p",null,"Update multiple files at the same time.",-1),nt={class:"two-up"},ot={class:"left"},it=e("h3",{id:"query-parameters-6"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters-6"},"#")],-1),rt=s("Supports all "),ct=s("global query parameters"),ht=s("."),dt=e("h3",{id:"request-body-3"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-3"},"#")],-1),ut=e("div",{class:"definitions"},[e("p",null,[e("code",{class:""},"keys"),s(),e("strong",null,"Required"),e("br"),s(" Array of primary keys of the files you\u2019d like to update.")]),e("p",null,[e("code",{class:""},"data"),s(),e("strong",null,"Required"),e("br"),s(" Any of "),e("a",{href:"#the-file-object"},"the file object"),s("\u2019s properties.")])],-1),pt=e("h3",{id:"returns-6"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-6"},"#")],-1),ft=e("p",null,[s("Returns the "),e("a",{href:"#the-file-object"},"file objects"),s(" for the updated files.")],-1),_t=e("div",{class:"right"},[e("h3",{id:"rest-api-5"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-5"},"#")]),e("pre",null,[e("code",{class:""},`PATCH /files
`)]),e("h5",{id:"example-9"},[s("Example "),e("a",{class:"header-anchor",href:"#example-9"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// PATCH /files"),s(`

{
	`),e("span",{class:"hljs-attr"},'"keys"'),s(": ["),e("span",{class:"hljs-string"},'"b6123925-2fc0-4a30-9d86-863eafc0a6e7"'),s(", "),e("span",{class:"hljs-string"},'"d17c10aa-0bad-4864-9296-84f522c753e5"'),s(`],
	`),e("span",{class:"hljs-attr"},'"data"'),s(`: {
		`),e("span",{class:"hljs-attr"},'"tags"'),s(": ["),e("span",{class:"hljs-string"},'"cities"'),s(`]
	}
}
`)])]),e("h3",{id:"graphql-5"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-5"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	update_files_items(ids: `),e("span",{class:"hljs-literal"},"[ID"),s(`!]!, data: update_directus_files!): [directus_files]
}
`)])]),e("h5",{id:"example-10"},[s("Example "),e("a",{class:"header-anchor",href:"#example-10"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	update_files_items(
		ids: [`),e("span",{class:"hljs-string"},'"b6123925-2fc0-4a30-9d86-863eafc0a6e7"'),s(", "),e("span",{class:"hljs-string"},'"d17c10aa-0bad-4864-9296-84f522c753e5"'),s(`]
		data: { tags: [`),e("span",{class:"hljs-string"},'"cities"'),s(`] }
	)
}
`)])])],-1),mt=e("hr",null,null,-1),gt=e("h2",{id:"delete-a-file"},[s("Delete a File "),e("a",{class:"header-anchor",href:"#delete-a-file"},"#")],-1),yt=e("p",null,"Delete an existing file.",-1),bt={class:"two-up"},jt={class:"left"},vt=e("div",{class:"danger hint"},[e("div",{class:"hint-title"},"Destructive"),e("p",null,"This will also delete the file from disk.")],-1),qt=e("h3",{id:"query-parameters-7"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters-7"},"#")],-1),wt=s("Supports all "),xt=s("global query parameters"),Tt=s("."),kt=e("h3",{id:"returns-7"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-7"},"#")],-1),Rt=e("p",null,"Empty response.",-1),Et=e("div",{class:"right"},[e("h3",{id:"rest-api-6"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-6"},"#")]),e("pre",null,[e("code",{class:""},`DELETE /files/:id
`)]),e("h5",{id:"example-11"},[s("Example "),e("a",{class:"header-anchor",href:"#example-11"},"#")]),e("pre",null,[e("code",{class:""},`DELETE /files/0fca80c4-d61c-4404-9fd7-6ba86b64154d
`)]),e("h3",{id:"graphql-6"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-6"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	delete_files_item(id:`),e("span",{class:"hljs-literal"}," ID"),s(`!): delete_one
}
`)])]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	delete_files_item(id: `),e("span",{class:"hljs-string"},'"0fca80c4-d61c-4404-9fd7-6ba86b64154d"'),s(`) {
		id
	}
}
`)])])],-1),At=e("hr",null,null,-1),Dt=e("h2",{id:"delete-multiple-files"},[s("Delete Multiple Files "),e("a",{class:"header-anchor",href:"#delete-multiple-files"},"#")],-1),Ft=e("p",null,"Delete multiple files at once.",-1),Pt=e("div",{class:"two-up"},[e("div",{class:"left"},[e("div",{class:"danger hint"},[e("div",{class:"hint-title"},"Destructive"),e("p",null,"This will also delete the files from disk.")]),e("h3",{id:"request-body-4"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-4"},"#")]),e("p",null,"Array of file primary keys"),e("h3",{id:"returns-8"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-8"},"#")]),e("p",null,"Empty response.")]),e("div",{class:"right"},[e("h3",{id:"rest-api-7"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-7"},"#")]),e("pre",null,[e("code",{class:""},`DELETE /files
`)]),e("h5",{id:"example-12"},[s("Example "),e("a",{class:"header-anchor",href:"#example-12"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// DELETE /files"),s(`

[`),e("span",{class:"hljs-string"},'"d17c10aa-0bad-4864-9296-84f522c753e5"'),s(", "),e("span",{class:"hljs-string"},'"b6123925-2fc0-4a30-9d86-863eafc0a6e7"'),s(`]
`)])]),e("h3",{id:"graphql-7"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-7"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	delete_files_items(ids: `),e("span",{class:"hljs-literal"},"[ID"),s(`!]!): delete_many
}
`)])]),e("h5",{id:"example-13"},[s("Example "),e("a",{class:"header-anchor",href:"#example-13"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	delete_files_items(ids: [`),e("span",{class:"hljs-string"},'"d17c10aa-0bad-4864-9296-84f522c753e5"'),s(", "),e("span",{class:"hljs-string"},'"b6123925-2fc0-4a30-9d86-863eafc0a6e7"'),s(`]) {
		ids
	}
}
`)])])])],-1),St={title:"Accessing Files",modularExtension:!1,pageClass:"page-reference"},Ct={name:"files",setup(It,{expose:i}){return i({frontmatter:{title:"Accessing Files",modularExtension:!1,pageClass:"page-reference"}}),(Ot,Qt)=>{const a=n("router-link"),r=n("docswrapper");return c(),h(r,{frontmatter:St},{default:t(()=>[e("div",d,[u,p,f,_,m,g,y,b,j,e("div",v,[e("div",q,[w,x,e("ul",null,[e("li",null,[T,k,R,E,l(a,{to:"/docs/configuration/project-settings/#files-thumbnails"},{default:t(()=>[A]),_:1}),D])]),F,P,S,C,I,O,Q,B]),L]),X,U,e("div",Y,[e("div",M,[e("div",G,[N,z,Z,H,W,K,e("p",null,[J,V,$,ee,se,l(a,{to:"/docs/reference/system/folders/"},{default:t(()=>[te]),_:1}),ae]),e("p",null,[le,ne,oe,ie,re,l(a,{to:"/docs/reference/system/users/"},{default:t(()=>[ce]),_:1}),he]),de,e("p",null,[ue,pe,fe,_e,me,l(a,{to:"/docs/reference/system/users/"},{default:t(()=>[ge]),_:1}),ye]),be,je,ve,qe,we,xe,Te,ke])]),Re]),Ee,Ae,De,e("div",Fe,[e("div",Pe,[Se,e("p",null,[Ce,l(a,{to:"/docs/reference/query"},{default:t(()=>[Ie]),_:1}),Oe]),Qe,e("p",null,[Be,l(a,{to:"/docs/reference/query/#limit"},{default:t(()=>[Le]),_:1}),Xe,Ue,Ye])]),e("div",Me,[Ge,Ne,e("p",null,[l(a,{to:"/docs/reference/introduction/#search-http-method"},{default:t(()=>[ze]),_:1})]),Ze,He,We,Ke,Je])]),Ve,$e,es,e("div",ss,[e("div",ts,[as,e("p",null,[ls,l(a,{to:"/docs/reference/query"},{default:t(()=>[ns]),_:1}),os]),is,rs]),cs]),hs,ds,e("div",us,[e("div",ps,[fs,_s,ms,gs,ys,bs,js,vs,e("p",null,[qs,l(a,{to:"/docs/reference/query"},{default:t(()=>[ws]),_:1}),xs]),Ts,ks]),Rs]),Es,As,Ds,e("div",Fs,[e("div",Ps,[Ss,e("p",null,[Cs,l(a,{to:"/docs/reference/query"},{default:t(()=>[Is]),_:1}),Os]),Qs,Bs,Ls,Xs]),Us]),Ys,Ms,Gs,e("div",Ns,[e("div",zs,[Zs,e("p",null,[Hs,l(a,{to:"/docs/reference/query"},{default:t(()=>[Ws]),_:1}),Ks]),Js,Vs,$s,et]),st]),tt,at,lt,e("div",nt,[e("div",ot,[it,e("p",null,[rt,l(a,{to:"/docs/reference/query"},{default:t(()=>[ct]),_:1}),ht]),dt,ut,pt,ft]),_t]),mt,gt,yt,e("div",bt,[e("div",jt,[vt,qt,e("p",null,[wt,l(a,{to:"/docs/reference/query"},{default:t(()=>[xt]),_:1}),Tt]),kt,Rt]),Et]),At,Dt,Ft,Pt])]),_:1})}}};typeof o=="function"&&o(Ct);export{Ct as default,St as frontmatter};
