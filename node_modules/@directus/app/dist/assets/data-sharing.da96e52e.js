import{a as o,o as h,b as d,w as n,g as e,e as s,B as t}from"./runtime-core.esm-bundler.b1f35d24.js";var l={};const c={class:"markdown-body"},u=e("blockquote",null,[e("p",null,"Data Sharing allows you to share an Item from a Collection with anyone, regardless of their permissions, even if they are not users within the project.")],-1),p=e("video",{autoplay:"",muted:"",loop:"",controls:""},[e("source",{src:"https://cdn.directus.io/docs/v9/app-guide/content/data-sharing/data-sharing-20220217A/data-shares-20220217A.mp4",type:"video/mp4"}),e("p",null,[t("Your browser is not displaying the video for some reason. Here's a "),e("a",{href:"https://cdn.directus.io/docs/v9/app-guide/content/data-sharing/data-sharing-20220217A/data-shares-20220217A.mp4"},"link to the video"),t(" instead.")])],-1),m=e("p",null,[e("div",{class:"table-of-contents"},[e("ul",null,[e("li",null,[e("a",{href:"#what's-a-share%3F"},"What's a Share?")]),e("li",null,[e("a",{href:"#how-it-works"},"How It Works")]),e("li",null,[e("a",{href:"#share-options-menu"},"Share Options Menu")]),e("li",null,[e("a",{href:"#creating-and-viewing-shares"},"Creating and Viewing Shares")]),e("li",null,[e("a",{href:"#is-data-sharing-safe%3F"},"Is Data Sharing Safe?")]),e("li",null,[e("a",{href:"#assigning-a-role"},"Assigning a Role")]),e("li",null,[e("a",{href:"#limit-sharing-by-collection"},"Limit Sharing by Collection")]),e("li",null,[e("a",{href:"#limit-sharing-by-item"},"Limit Sharing by Item")]),e("li",null,[e("a",{href:"#limit-sharing-by-field"},"Limit Sharing by Field")])])])],-1),g=t(" @TODO Create a :::tip Before You Begin getting-started > intro-tutorial configuration > users-roles-permissions "),_=e("h2",{id:"what%E2%80%99s-a-share%3F"},[t("What\u2019s a Share? "),e("a",{class:"header-anchor",href:"#what%E2%80%99s-a-share%3F"},"#")],-1),w=e("p",null,[t("In a given Project, some Collections will likely be hidden for the Public as well as other Roles. There may be cases when you want to share an Item with a person "),e("em",null,"(or people)"),t(" that don\u2019t have the permissions to see it. This is where Shares come in to play. Shares let you give anybody access to an Item. When a Share is created on an Item, you assign a Role for the Share to inherit view permissions from, then you can "),e("em",null,"share"),t(" the Item via hyperlink or email. The link leads to a page with nothing but the read-only content of that shared Item.")],-1),f={class:"tip hint"},y=e("div",{class:"hint-title"},"Read-only",-1),S=t("At this time, Shares are read-only. However, Data Sharing is an extensible feature that could support full CRUD permissions. We welcome any "),b=t("pull-requests"),v=t(" to address this or interest in "),k=t("sponsoring the feature"),R=t("."),I={class:"warning hint"},C=e("div",{class:"hint-title"},"Users, Roles and Permissions!",-1),A=t("You will need to understand how "),F=t("Users, Roles, and Permissions"),x=t(" work in Directus to configure Shares properly. That said, if you\u2019re unfamiliar with those concepts, it is quite reasonable to learn them in tandem with Data Sharing."),D=e("h2",{id:"how-it-works"},[t("How It Works "),e("a",{class:"header-anchor",href:"#how-it-works"},"#")],-1),O=e("video",{autoplay:"",muted:"",loop:"",controls:""},[e("source",{src:"https://cdn.directus.io/docs/v9/app-guide/content/data-sharing/data-sharing-20220217A/how-shares-work-20220217A.mp4",type:"video/mp4"}),e("p",null,[t("Your browser is not displaying the video for some reason. Here's a "),e("a",{href:"https://cdn.directus.io/docs/v9/app-guide/content/data-sharing/data-sharing-20220217A/how-shares-work-20220217A.mp4"},"link to the video"),t(" instead.")])],-1),N=e("ol",null,[e("li",null,"Navigate to the Content Module."),e("li",null,"Navigate to the Collection of the Item you want to share."),e("li",null,"Click the Item to go into the Item\u2019s Editing Page."),e("li",null,"Click the Shares button in the Sidebar."),e("li",null,"From the dropdown, click \u201CNew Share\u201D."),e("li",null,[t("Fill in the Share Options. Everything on the "),e("a",{href:"#share-options-menu"},"Share Options Menu"),t(" is optional, but please note: "),e("ul",null,[e("li",null,"Without a name, it will be harder to remember the context/reason for the Share, especially with multiple shares on a single Item."),e("li",null,"If no Role is selected, it defaults to Public permissions, which provides no real benefit since anyone can access Items available to Public."),e("li",null,"The other access constraints are totally optional.")])]),e("li",null,[t("Click "),e("span",{mi:"",btn:""},"check"),t(" in the Menu Header once you have set a name, a Role and constraints. You will see your new Share under \u201CShares\u201D in the Sidebar.")]),e("li",null,[t("Click the "),e("span",{mi:"",icon:""},"more_horiz"),t(" button on the right side of your Share.")])],-1),P=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/app-guide/content/data-sharing/data-sharing-20220217A/copy-send-edit-delete-shares-menu-20220217A.webp",alt:"copy send edit delete shares menu"})],-1),M=e("ol",{start:"9"},[e("li",null,[t("Here you have 4 options: "),e("ul",null,[e("li",null,[e("strong",null,"Copy Link"),t(" \u2013 Creates a hyperlink that you can copy and paste.")]),e("li",null,[e("strong",null,"Send Link"),t(" \u2013 Creates prompt for User to add email(s) and share the link.")]),e("li",null,[e("strong",null,"Edit"),t(" \u2013 Reopens the Share Options Menu for additional edits.")]),e("li",null,[e("strong",null,"Delete"),t(" \u2013 Permanently deletes the Share.")])])])],-1),E=e("p",null,"Once the link is opened by a user, a custom page displaying the Shared Item will be rendered.",-1),T=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Logout to test links"),e("p",null,"If you open a Data Share link while logged in to Directus, it will redirect to the item in the regular Directus App. When testing a share, make sure to logout of the app before opening the link or simply open the link in another browser or incognito tab.")],-1),H=e("h2",{id:"share-options-menu"},[t("Share Options Menu "),e("a",{class:"header-anchor",href:"#share-options-menu"},"#")],-1),B=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/app-guide/content/data-sharing/data-sharing-20220217A/share-options-menu-20220217A.webp",alt:"Share Options Menu"})],-1),U=e("ul",null,[e("li",null,[e("strong",null,"Name"),t(" \u2013 Adds a name to describe the Share.")]),e("li",null,[e("strong",null,"Role"),t(" \u2013 "),e("a",{href:"#assigning-a-role"},"Assigns a Role"),t(" for the Share to inherit permissions from.")]),e("li",null,[e("strong",null,"Password"),t(" \u2013 Creates a password that must be used to access the shared Item.")]),e("li",null,[e("strong",null,"Start Date"),t(" \u2013 Selects the first date that the Share can be accessed.")]),e("li",null,[e("strong",null,"End Date"),t(" \u2013 Selects the last date that the Share can be accessed.")]),e("li",null,[e("strong",null,"Max Uses"),t(" \u2013 Sets total number of times the shared Item can be viewed.")]),e("li",null,[e("strong",null,"Times Used"),t(" - Displays number of times the shared Item was viewed.")])],-1),W=e("h2",{id:"creating-and-viewing-shares"},[t("Creating and Viewing Shares "),e("a",{class:"header-anchor",href:"#creating-and-viewing-shares"},"#")],-1),L=t(" @TODO configuration > users-roles-permissions getting-started > intro-tutorial "),Y=e("p",null,[t("A User\u2019s ability to create shares will be based on their Role\u2019s permissions. If you are an "),e("code",{class:""},"Administrator"),t(", "),e("em",null,"congratulations!"),t(" You can share any Item you want. However, other Roles created will likely have limits set on their Share permissions.")],-1),V=e("p",null,"Any given Share will inherit the same read permissions as the Role it was associated with in the Share Options Menu.",-1),j=t("This system allows for absolutely granular configuration options on Shares\u2026 "),q=t("but it also means you\u2019ll need to understand "),z=t("Users, Roles, and Permissions"),G=t(" thoroughly to use Shares properly"),J=t(". Here are some highlights of what you can do:"),K=e("ul",null,[e("li",null,"Set the Collections a Role can view or share."),e("li",null,"Filter for specific Items a Role can view or share."),e("li",null,"Set specific Fields a Role can view or share."),e("li",null,"Set view permissions of relationally linked Items."),e("li",null,"Restrict Role access to specific IP address(es).")],-1),Q=e("h2",{id:"is-data-sharing-safe%3F"},[t("Is Data Sharing Safe? "),e("a",{class:"header-anchor",href:"#is-data-sharing-safe%3F"},"#")],-1),X=e("p",null,[t("We obviously don\u2019t want to expose Items unless they are explicitly shared, however some Items may be linked to Items in other Collections. So, in addition to inheriting the role\u2019s permissions, the API automatically generates and injects a permissions set so that only the shared Item "),e("em",null,"(and the Items relationally linked to that shared Item)"),t(" can be viewed. But again, as noted previously, view-ability is still dependent on whether the Role associated to the Share has read permissions on those linked Collections.")],-1),Z=e("h2",{id:"assigning-a-role"},[t("Assigning a Role "),e("a",{class:"header-anchor",href:"#assigning-a-role"},"#")],-1),$=e("p",null,[t("The Role option in the "),e("a",{href:"#share-options-menu"},"Share Options Menu"),t(" lets you associate a Role to the Share. The Share will then inherit permissions of that Role.")],-1),ee=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/app-guide/content/data-sharing/data-sharing-20220217A/select-existing-role-menu-20220217A.webp",alt:"Select Role for Share"})],-1),te=e("h3",{id:"assign-an-existing-role"},[t("Assign an Existing Role "),e("a",{class:"header-anchor",href:"#assign-an-existing-role"},"#")],-1),ne=e("ol",null,[e("li",null,[t("Navigate to the "),e("strong",null,"Share Options Menu"),t(".")]),e("li",null,[t("Click the Role Input Box and a new side menu will appear "),e("em",null,"(shown above)"),t(".")]),e("li",null,"Select the Role you\u2019d like your Share to inherit permissions from."),e("li",null,[t("Click "),e("span",{mi:"",btn:""},"check"),t(" to confirm.")])],-1),ie=e("h3",{id:"creating-%2F-editing-a-role"},[t("Creating / Editing a Role "),e("a",{class:"header-anchor",href:"#creating-%2F-editing-a-role"},"#")],-1),se=e("p",null,[e("em",null,"If your Role has the correct permissions configured"),t(", you can create a new Role and assign it to a Share "),e("em",null,"\u201Con the fly\u201D"),t(" in the Share Options Menu. However, you will still need to navigate to "),e("strong",null,"Settings > Roles and Permissions > [Role Name]"),t(" to configure any read permissions.")],-1),oe=e("p",null,[e("img",{src:"https://cdn.directus.io/docs/v9/app-guide/content/data-sharing/data-sharing-20220217A/creating-and-edit-roles-menu-20220217A.webp",alt:"Creating / Editing a Role within Shares"})],-1),le=e("h3",{id:"create-a-new-role"},[t("Create a New Role "),e("a",{class:"header-anchor",href:"#create-a-new-role"},"#")],-1),ae=e("ol",null,[e("li",null,[t("Navigate to the "),e("strong",null,"Share Options Menu"),t(".")]),e("li",null,[t("Click "),e("span",{mi:"",icon:""},"add"),t(" in the Role Input Box and the Role Options Menu will appear.")]),e("li",null,"Fill out the options to create the Role according to your needs."),e("li",null,[t("Click "),e("span",{mi:"",btn:""},"check"),t(" to confirm Role creation.")])],-1),re=e("h3",{id:"edit-an-assigned-role"},[t("Edit an Assigned Role "),e("a",{class:"header-anchor",href:"#edit-an-assigned-role"},"#")],-1),he=e("ol",null,[e("li",null,[t("Navigate to the "),e("strong",null,"Share Options Menu"),t(".")]),e("li",null,[t("Click "),e("span",{mi:"",icon:""},"open_in_new"),t(" in the Role Input Box and the Role Options Menu will appear.")]),e("li",null,"Edit Role options according to your needs."),e("li",null,[t("Click "),e("span",{mi:"",btn:""},"check"),t(" to confirm edits.")])],-1),de=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"You're creating / editing actual Roles!"),e("p",null,"If you create or edit a Role in this menu, these changes will take effect app-wide, not just in the context of the Share.")],-1),ce=e("h2",{id:"limit-sharing-by-collection"},[t("Limit Sharing by Collection "),e("a",{class:"header-anchor",href:"#limit-sharing-by-collection"},"#")],-1),ue=e("p",null,"You can limit which Collections a Role is allowed to share.",-1),pe=e("ol",null,[e("li",null,[t("Navigate to "),e("strong",null,"Settings > Roles and Permissions"),t(".")]),e("li",null,[t("Select the "),e("strong",null,"[Role Name]"),t(" that will be responsible for creating the Share.")]),e("li",null,[t("Find the "),e("strong",null,"[Collection]"),t(" you wish to set Filter(s) for and click the icon in the column under "),e("span",{mi:"",icon:""},"share"),t(" and a small menu will appear.")]),e("li",null,[t("Select "),e("span",{mi:""},"check"),t(" to enable and "),e("span",{mi:""},"block"),t(" to disable Shares on this collection.")])],-1),me=e("h2",{id:"limit-sharing-by-item"},[t("Limit Sharing by Item "),e("a",{class:"header-anchor",href:"#limit-sharing-by-item"},"#")],-1),ge=e("p",null,[t("Sometimes you may want a given Role to be able to share some Items but not others. Filters allow you to control exactly which Items a Role will be able to share, enabling you to do things like "),e("em",null,"only share reports that are marked as \u2018Done\u2019"),t(".")],-1),_e=e("ol",null,[e("li",null,[t("Navigate to "),e("strong",null,"Settings > Roles and Permissions"),t(".")]),e("li",null,[t("Select the "),e("strong",null,"[Role Name]"),t(" that will be responsible for creating the Share.")]),e("li",null,[t("Find the "),e("strong",null,"[Collection]"),t(" you wish to set Filter(s) for and click the icon in the column under "),e("span",{mi:"",icon:""},"share"),t(" and a small menu will appear.")]),e("li",null,[t("Select "),e("span",{mi:"",icon:""},"rule"),e("strong",null,"Use Custom"),t(" and a side menu will appear.")]),e("li",null,"Create your Filter(s) as needed.")],-1),we=e("h2",{id:"limit-sharing-by-field"},[t("Limit Sharing by Field "),e("a",{class:"header-anchor",href:"#limit-sharing-by-field"},"#")],-1),fe=e("p",null,[t("When you create a Share on some Item, you associate a Role "),e("em",null,"(and thus the Role\u2019s permissions)"),t(" to the Item. This allows you to set read permissions for the exact fields "),e("em",null,"(including relational fields)"),t(" that get shared.")],-1),ye=e("ol",null,[e("li",null,[t("Navigate to "),e("strong",null,"Settings > Roles and Permissions"),t(".")]),e("li",null,[t("Select the "),e("strong",null,"[Role Name]"),t(" that is assigned to the Share.")]),e("li",null,[t("Find the "),e("strong",null,"[Collection]"),t(" and click the icon in the column under the "),e("span",{mi:"",icon:""},"visibility"),t(" icon and a small menu will appear.")]),e("li",null,[t("Select "),e("span",{mi:"",icon:""},"rule"),e("strong",null,"Use Custom"),t(" and a side menu will appear.")]),e("li",null,[t("Click "),e("strong",null,"Field Permissions"),t(".")]),e("li",null,"Click to check the Collection Fields you\u2019d like to allow read permissions on."),e("li",null,[t("Select "),e("span",{mi:""},"check"),t(" in the side menu Header to confirm changes.")])],-1),Se={title:"Data Sharing",modularExtension:!1},be={name:"data-sharing",setup(ve,{expose:a}){return a({frontmatter:{title:"Data Sharing",modularExtension:!1}}),(ke,Re)=>{const i=o("router-link"),r=o("docswrapper");return h(),d(r,{frontmatter:Se},{default:n(()=>[e("div",c,[u,p,m,g,_,w,e("div",f,[y,e("p",null,[S,s(i,{to:"/docs/contributing/introduction/"},{default:n(()=>[b]),_:1}),v,s(i,{to:"/docs/getting-started/support/#sponsored-work"},{default:n(()=>[k]),_:1}),R])]),e("div",I,[C,e("p",null,[A,s(i,{to:"/docs/configuration/users-roles-permissions"},{default:n(()=>[F]),_:1}),x])]),D,O,N,P,M,E,T,H,B,U,W,L,Y,V,e("p",null,[j,e("em",null,[q,s(i,{to:"/docs/configuration/users-roles-permissions/"},{default:n(()=>[z]),_:1}),G]),J]),K,Q,X,Z,$,ee,te,ne,ie,se,oe,le,ae,re,he,de,ce,ue,pe,me,ge,_e,we,fe,ye])]),_:1})}}};typeof l=="function"&&l(be);export{be as default,Se as frontmatter};
