import{a as l,o as i,b as h,w as t,g as e,e as n,B as s}from"./runtime-core.esm-bundler.b1f35d24.js";var c={};const d={class:"markdown-body"},p={class:"two-up"},u={class:"left"},_=s("All events within Directus are tracked and stored in the activities collection. This gives you full accountability over everything that happens. "),m=s("Learn more about Activity"),y=s("."),g=e("div",{class:"right"},[e("p",null,[e("div",{class:"table-of-contents"},[e("ul",null,[e("li",null,[e("a",{href:"#the-activity-object"},"The Activity Object")]),e("li",null,[e("a",{href:"#list-activity-actions"},"List Activity Actions")]),e("li",null,[e("a",{href:"#retrieve-activity-action"},"Retrieve Activity Action")]),e("li",null,[e("a",{href:"#create-a-comment"},"Create a Comment")]),e("li",null,[e("a",{href:"#update-a-comment"},"Update a Comment")]),e("li",null,[e("a",{href:"#delete-a-comment"},"Delete a Comment")])])])])],-1),f=e("hr",null,null,-1),v=e("h2",{id:"the-activity-object"},[s("The Activity Object "),e("a",{class:"header-anchor",href:"#the-activity-object"},"#")],-1),j={class:"two-up"},b={class:"left"},q={class:"definitions"},w=e("p",null,[e("code",{class:""},"action"),s(),e("strong",null,"string"),e("br"),s(" Action that was performed.")],-1),x=e("p",null,[e("code",{class:""},"collection"),s(),e("strong",null,"string"),e("br"),s(" Collection identifier in which the item resides.")],-1),k=e("p",null,[e("code",{class:""},"comment"),s(),e("strong",null,"string"),e("br"),s(" User comment. This will store the comments that show up in the right sidebar of the item edit page in the admin app.")],-1),T=e("p",null,[e("code",{class:""},"id"),s(),e("strong",null,"integer"),e("br"),s(" Unique identifier for the object.")],-1),A=e("p",null,[e("code",{class:""},"ip"),s(),e("strong",null,"string"),e("br"),s(" The IP address of the user at the time the action took place.")],-1),E=e("p",null,[e("code",{class:""},"item"),s(),e("strong",null,"string"),e("br"),s(" Unique identifier for the item the action applied to. This is always a string, even for integer primary keys.")],-1),R=e("p",null,[e("code",{class:""},"timestamp"),s(),e("strong",null,"string"),e("br"),s(" When the action happened.")],-1),S=e("code",{class:""},"user",-1),C=s(),P=e("strong",null,"many-to-one",-1),I=e("br",null,null,-1),L=s(" The user who performed this action. Many-to-one to "),O=s("users"),D=s("."),M=e("p",null,[e("code",{class:""},"user_agent"),s(),e("strong",null,"string"),e("br"),s(" User agent string of the browser the user used when the action took place.")],-1),H=e("code",{class:""},"revisions",-1),Q=s(),G=e("strong",null,"one-to-many",-1),U=e("br",null,null,-1),B=s(" Any changes that were made in this activity. One-to-many to "),W=s("revisions"),V=s("."),K=e("div",{class:"right"},[e("pre",null,[e("code",{class:"language-json"},[s(`{
	`),e("span",{class:"hljs-attr"},'"action"'),s(": "),e("span",{class:"hljs-string"},'"create"'),s(`,
	`),e("span",{class:"hljs-attr"},'"collection"'),s(": "),e("span",{class:"hljs-string"},'"articles"'),s(`,
	`),e("span",{class:"hljs-attr"},'"comment"'),s(": "),e("span",{class:"hljs-literal"},"null"),s(`,
	`),e("span",{class:"hljs-attr"},'"id"'),s(": "),e("span",{class:"hljs-number"},"5"),s(`,
	`),e("span",{class:"hljs-attr"},'"ip"'),s(": "),e("span",{class:"hljs-string"},'"139.178.128.0"'),s(`,
	`),e("span",{class:"hljs-attr"},'"item"'),s(": "),e("span",{class:"hljs-string"},'"1"'),s(`,
	`),e("span",{class:"hljs-attr"},'"timestamp"'),s(": "),e("span",{class:"hljs-string"},'"2021-02-02T12:50:26-05:00"'),s(`,
	`),e("span",{class:"hljs-attr"},'"user"'),s(": "),e("span",{class:"hljs-string"},'"2d321940-69f5-445f-be6b-c773fa58a820"'),s(`,
	`),e("span",{class:"hljs-attr"},'"user_agent"'),s(": "),e("span",{class:"hljs-string"},'"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.2 Safari/605.1.15"'),s(`,
	`),e("span",{class:"hljs-attr"},'"revisions"'),s(": ["),e("span",{class:"hljs-number"},"4"),s(`]
}
`)])])],-1),N=e("hr",null,null,-1),z=e("h2",{id:"list-activity-actions"},[s("List Activity Actions "),e("a",{class:"header-anchor",href:"#list-activity-actions"},"#")],-1),X=e("p",null,"Returns a list of activity actions.",-1),F={class:"two-up"},J={class:"left"},Y=e("h3",{id:"query-parameters"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters"},"#")],-1),Z=s("Supports all "),$=s("global query parameters"),ee=s("."),se=e("h3",{id:"returns"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns"},"#")],-1),te=s("An array of up to "),ae=s("limit"),ne=s(),le=e("a",{href:"#the-activity-object"},"activity objects",-1),ce=s(". If no items are available, data will be an empty array."),oe={class:"right"},re=e("h3",{id:"rest-api"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api"},"#")],-1),ie=e("pre",null,[e("code",{class:""},`GET /activity
SEARCH /activity
`)],-1),he=s("Learn more about SEARCH ->"),de=e("h3",{id:"graphql"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql"},"#")],-1),pe=e("pre",null,[e("code",{class:""},`POST /graphql/system
`)],-1),ue=e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Query"),s(` {
	activity: [directus_activity]
}
`)])],-1),_e=e("h5",{id:"example"},[s("Example "),e("a",{class:"header-anchor",href:"#example"},"#")],-1),me=e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"query"),s(` {
	activity {
		`),e("span",{class:"hljs-keyword"},"..."),s(`
	}
}
`)])],-1),ye=e("hr",null,null,-1),ge=e("h2",{id:"retrieve-activity-action"},[s("Retrieve Activity Action "),e("a",{class:"header-anchor",href:"#retrieve-activity-action"},"#")],-1),fe=e("p",null,"Returns a single activity action by primary key.",-1),ve={class:"two-up"},je={class:"left"},be=e("h3",{id:"query-parameters-2"},[s("Query Parameters "),e("a",{class:"header-anchor",href:"#query-parameters-2"},"#")],-1),qe=s("Supports all "),we=s("global query parameters"),xe=s("."),ke=e("h3",{id:"returns-2"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-2"},"#")],-1),Te=e("p",null,[s("Returns an "),e("a",{href:"#the-activity-object"},"activity object"),s(" if a valid identifier was provided.")],-1),Ae=e("div",{class:"right"},[e("h3",{id:"rest-api-2"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-2"},"#")]),e("pre",null,[e("code",{class:""},`GET /activity/:id
`)]),e("h3",{id:"graphql-2"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-2"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Query"),s(` {
	activity_by_id(id:`),e("span",{class:"hljs-literal"}," ID"),s(`!): directus_activity
}
`)])]),e("h5",{id:"example-2"},[s("Example "),e("a",{class:"header-anchor",href:"#example-2"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"query"),s(` {
	activity_by_id(id: `),e("span",{class:"hljs-number"},"15"),s(`) {
		`),e("span",{class:"hljs-keyword"},"..."),s(`
	}
}
`)])])],-1),Ee=e("hr",null,null,-1),Re=e("h2",{id:"create-a-comment"},[s("Create a Comment "),e("a",{class:"header-anchor",href:"#create-a-comment"},"#")],-1),Se=e("p",null,"Creates a new comment on a given item.",-1),Ce=e("div",{class:"two-up"},[e("div",{class:"left"},[e("h3",{id:"request-body"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body"},"#")]),e("div",{class:"definitions"},[e("p",null,[e("code",{class:""},"collection"),s(),e("strong",null,"Required"),e("br"),s(" Collection in which the item resides.")]),e("p",null,[e("code",{class:""},"item"),s(),e("strong",null,"Required"),e("br"),s(" Primary Key of the item to comment on.")]),e("p",null,[e("code",{class:""},"comment"),s(),e("strong",null,"Required"),e("br"),s(" The comment content. Supports Markdown.")])]),e("h3",{id:"returns-3"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-3"},"#")]),e("p",null,[s("Returns the "),e("a",{href:"#the-activity-object"},"activity object"),s(" of the created comment.")])]),e("div",{class:"right"},[e("h3",{id:"rest-api-3"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-3"},"#")]),e("pre",null,[e("code",{class:""},`POST /activity/comment
`)]),e("h5",{id:"example-3"},[s("Example "),e("a",{class:"header-anchor",href:"#example-3"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// POST /activity/comment"),s(`

{
	`),e("span",{class:"hljs-attr"},'"collection"'),s(": "),e("span",{class:"hljs-string"},'"pages"'),s(`,
	`),e("span",{class:"hljs-attr"},'"item"'),s(": "),e("span",{class:"hljs-number"},"3"),s(`,
	`),e("span",{class:"hljs-attr"},'"comment"'),s(": "),e("span",{class:"hljs-string"},'"Hello World"'),s(`
}
`)])]),e("h3",{id:"graphql-3"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-3"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	create_comment(collection:`),e("span",{class:"hljs-type"}," String"),s("!, item:"),e("span",{class:"hljs-literal"}," ID"),s("!, comment:"),e("span",{class:"hljs-type"}," String"),s(`!): directus_activity
}
`)])]),e("h5",{id:"example-4"},[s("Example "),e("a",{class:"header-anchor",href:"#example-4"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	create_comment(
		collection: `),e("span",{class:"hljs-string"},'"pages"'),s(`,
		item: `),e("span",{class:"hljs-number"},"3"),s(`,
		comment: `),e("span",{class:"hljs-string"},'"Hello World"'),s(`
	) { `),e("span",{class:"hljs-keyword"},"..."),s(` }
}
`)])])])],-1),Pe=e("hr",null,null,-1),Ie=e("h2",{id:"update-a-comment"},[s("Update a Comment "),e("a",{class:"header-anchor",href:"#update-a-comment"},"#")],-1),Le=e("p",null,"Updates an existing comment by activity action primary key.",-1),Oe=e("div",{class:"two-up"},[e("div",{class:"left"},[e("h3",{id:"request-body-2"},[s("Request Body "),e("a",{class:"header-anchor",href:"#request-body-2"},"#")]),e("div",{class:"definitions"},[e("p",null,[e("code",{class:""},"comment"),s(),e("strong",null,"Required"),e("br"),s(" The updated comment content. Supports Markdown.")])]),e("h3",{id:"returns-4"},[s("Returns "),e("a",{class:"header-anchor",href:"#returns-4"},"#")]),e("p",null,[s("Returns the "),e("a",{href:"#the-activity-object"},"activity object"),s(" of the created comment.")])]),e("div",{class:"right"},[e("h3",{id:"rest-api-4"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-4"},"#")]),e("pre",null,[e("code",{class:""},`PATCH /activity/comment/:id
`)]),e("h5",{id:"example-5"},[s("Example "),e("a",{class:"header-anchor",href:"#example-5"},"#")]),e("pre",null,[e("code",{class:"language-json"},[e("span",{class:"hljs-comment"},"// PATCH /activity/comment/15"),s(`

{
	`),e("span",{class:"hljs-attr"},'"comment"'),s(": "),e("span",{class:"hljs-string"},'"Hello World!!"'),s(`
}
`)])]),e("h3",{id:"graphql-4"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-4"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	update_comment(id:`),e("span",{class:"hljs-literal"}," ID"),s("!, comment:"),e("span",{class:"hljs-type"}," String"),s(`!): directus_activity
}
`)])]),e("h5",{id:"example-6"},[s("Example "),e("a",{class:"header-anchor",href:"#example-6"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	update_comment(
		id: `),e("span",{class:"hljs-number"},"3"),s(`,
		comment: `),e("span",{class:"hljs-string"},'"Hello World"'),s(`,
	) { `),e("span",{class:"hljs-keyword"},"..."),s(` }
}
`)])])])],-1),De=e("hr",null,null,-1),Me=e("h2",{id:"delete-a-comment"},[s("Delete a Comment "),e("a",{class:"header-anchor",href:"#delete-a-comment"},"#")],-1),He=e("p",null,"Deletes a comment.",-1),Qe=e("div",{class:"two-up"},[e("div",{class:"left"}),e("div",{class:"right"},[e("h3",{id:"rest-api-5"},[s("REST API "),e("a",{class:"header-anchor",href:"#rest-api-5"},"#")]),e("pre",null,[e("code",{class:""},`DELETE /activity/comment/:id
`)]),e("h5",{id:"example-7"},[s("Example "),e("a",{class:"header-anchor",href:"#example-7"},"#")]),e("pre",null,[e("code",{class:""},`DELETE /activity/comment/15
`)]),e("h3",{id:"graphql-5"},[s("GraphQL "),e("a",{class:"header-anchor",href:"#graphql-5"},"#")]),e("pre",null,[e("code",{class:""},`POST /graphql/system
`)]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"type"),e("span",{class:"hljs-type"}," Mutation"),s(` {
	delete_comment(id:`),e("span",{class:"hljs-literal"}," ID"),s(`): delete_one
}
`)])]),e("h5",{id:"example-8"},[s("Example "),e("a",{class:"header-anchor",href:"#example-8"},"#")]),e("pre",null,[e("code",{class:"language-graphql"},[e("span",{class:"hljs-keyword"},"mutation"),s(` {
	delete_comment(id: `),e("span",{class:"hljs-number"},"3"),s(`) {
		id
	}
}
`)])])])],-1),Ge={title:"Activity",modularExtension:!1,pageClass:"page-reference"},Ue={name:"activity",setup(Be,{expose:o}){return o({frontmatter:{title:"Activity",modularExtension:!1,pageClass:"page-reference"}}),(We,Ve)=>{const a=l("router-link"),r=l("docswrapper");return i(),h(r,{frontmatter:Ge},{default:t(()=>[e("div",d,[e("div",p,[e("div",u,[e("blockquote",null,[e("p",null,[_,n(a,{to:"/docs/getting-started/glossary/#activity"},{default:t(()=>[m]),_:1}),y])])]),g]),f,v,e("div",j,[e("div",b,[e("div",q,[w,x,k,T,A,E,R,e("p",null,[S,C,P,I,L,n(a,{to:"/docs/reference/system/users/#the-users-object"},{default:t(()=>[O]),_:1}),D]),M,e("p",null,[H,Q,G,U,B,n(a,{to:"/docs/reference/system/revisions/#the-revisions-object"},{default:t(()=>[W]),_:1}),V])])]),K]),N,z,X,e("div",F,[e("div",J,[Y,e("p",null,[Z,n(a,{to:"/docs/reference/query"},{default:t(()=>[$]),_:1}),ee]),se,e("p",null,[te,n(a,{to:"/docs/reference/query/#limit"},{default:t(()=>[ae]),_:1}),ne,le,ce])]),e("div",oe,[re,ie,e("p",null,[n(a,{to:"/docs/reference/introduction/#search-http-method"},{default:t(()=>[he]),_:1})]),de,pe,ue,_e,me])]),ye,ge,fe,e("div",ve,[e("div",je,[be,e("p",null,[qe,n(a,{to:"/docs/reference/query"},{default:t(()=>[we]),_:1}),xe]),ke,Te]),Ae]),Ee,Re,Se,Ce,Pe,Ie,Le,Oe,De,Me,He,Qe])]),_:1})}}};typeof c=="function"&&c(Ue);export{Ue as default,Ge as frontmatter};
